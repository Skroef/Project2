(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02c0706c"],{"0952":function(e,t,a){},e67b:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("vx-card",{directives:[{name:"show",rawName:"v-show",value:!e.isInfoHidden,expression:"!isInfoHidden"}],ref:"MainCard2"},[a("div",[[a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{placeholder:"Search / Select Customer",options:e.customerDropdown,name:"Customer"},on:{"search:blur":e.populateData},model:{value:e.customer,callback:function(t){e.customer=t},expression:"customer"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Customer"),expression:"errors.has('Customer')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("Customer")))])],1),a("div",{staticClass:"vx-col md:w-1/2 w-full mt-2"},[a("datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{id:"incidentdate",placeholder:"Incident / Cal-Out Date",format:"yyyy-MM-dd",name:"Incident Date"},model:{value:e.formData.createDate,callback:function(t){e.$set(e.formData,"createDate",t)},expression:"formData.createDate"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Incident Date"),expression:"errors.has('Incident Date')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("Incident Date")))])],1)]),a("br"),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col sm:w-1/2 w-full mb-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"label-placeholder":"Client's Incident / call-out number",name:"customer Call-out number"},model:{value:e.formData.customerCallOutNr,callback:function(t){e.$set(e.formData,"customerCallOutNr",t)},expression:"formData.customerCallOutNr"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("customer Call-out number"),expression:"errors.has('customer Call-out number')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("customer Call-out number")))])],1),a("div",{staticClass:"vx-col sm:w-1/2 w-full mb-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"label-placeholder":"Customer Request",name:"customer Request"},model:{value:e.formData.customerRequest,callback:function(t){e.$set(e.formData,"customerRequest",t)},expression:"formData.customerRequest"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("customer Request"),expression:"errors.has('customer Request')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("customer Request")))])],1)]),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col sm:w-1/2 w-full mb-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"label-placeholder":"Customer's site",name:"customer site"},model:{value:e.formData.site,callback:function(t){e.$set(e.formData,"site",t)},expression:"formData.site"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("customer site"),expression:"errors.has('customer site')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("customer site")))])],1),a("div",{staticClass:"vx-col sm:w-1/2 w-full mb-6"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"label-placeholder":"Site Contact Person",name:"Site Contact person"},model:{value:e.formData.siteContactPerson,callback:function(t){e.$set(e.formData,"siteContactPerson",t)},expression:"formData.siteContactPerson"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Site Contact person"),expression:"errors.has('Site Contact person')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("Site Contact person")))])],1)]),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col sm:w-1/8 w-full mb-2"},[a("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Problem Statement",name:"Problem Statement"},model:{value:e.formData.problemStatement,callback:function(t){e.$set(e.formData,"problemStatement",t)},expression:"formData.problemStatement"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Problem Statement"),expression:"errors.has('Problem Statement')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("Problem Statement")))])],1)]),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col sm:w-1/8 w-full mb-2"},[a("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Fault Description",name:"Fault Description"},model:{value:e.formData.faultDescription,callback:function(t){e.$set(e.formData,"faultDescription",t)},expression:"formData.faultDescription"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Fault Description"),expression:"errors.has('Fault Description')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("Fault Description")))])],1)]),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col sm:w-1/8 w-full mb-2"},[a("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Solution Description",name:"Solution Description"},model:{value:e.formData.solution,callback:function(t){e.$set(e.formData,"solution",t)},expression:"formData.solution"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Solution Description"),expression:"errors.has('Solution Description')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("Solution Description")))])],1)]),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col sm:w-1/2 w-full mb-2"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"label-placeholder":"Completed By",name:"Completed By"},model:{value:e.formData.completedby,callback:function(t){e.$set(e.formData,"completedby",t)},expression:"formData.completedby"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Completed By"),expression:"errors.has('Completed By')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("Completed By")))])],1),a("div",{staticClass:"vx-col md:w-1/2 w-full mt-5"},[a("datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{id:"completedate",placeholder:"Completed Date",format:"yyyy-MM-dd",name:"Completed Date"},model:{value:e.formData.completedDate,callback:function(t){e.$set(e.formData,"completedDate",t)},expression:"formData.completedDate"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Completed Date"),expression:"errors.has('Completed Date')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("Completed Date")))])],1),a("div",{staticClass:"vx-col sm:w-1/2 w-full mb-5"},[a("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{"label-placeholder":"Cloud Support",name:"Cloud Support"},model:{value:e.formData.cloudSupport,callback:function(t){e.$set(e.formData,"cloudSupport",t)},expression:"formData.cloudSupport"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Cloud Support"),expression:"errors.has('Cloud Support')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("Cloud Support")))])],1)]),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col sm:w-1/8 w-full mb-2"},[a("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Summary",name:"Summary"},model:{value:e.formData.summary,callback:function(t){e.$set(e.formData,"summary",t)},expression:"formData.summary"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("Summary"),expression:"errors.has('Summary')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("Summary")))])],1)]),a("div",{staticClass:"vx-row px-4 pb-3"},[a("div",{staticClass:"vx-col flex-1"},[a("label",{staticClass:"text-reader"},[a("input",{attrs:{type:"file"},on:{change:e.loadTextFromFile}})])])]),a("div",{staticClass:"vx-row"},[a("div",{staticClass:"vx-col w-full"},[a("vs-button",{directives:[{name:"show",rawName:"v-show",value:!e.isAddHidden,expression:"!isAddHidden"}],staticClass:"mr-3 mb-2",attrs:{id:"addInfo"},on:{click:function(t){return e.SubmitIncident(e.formData)}}},[e._v("Submit")]),a("vs-button",{directives:[{name:"show",rawName:"v-show",value:!e.isUpdateHidden,expression:"!isUpdateHidden"}],staticClass:"mr-3 mb-2",attrs:{id:"editInfo"},on:{click:e.editIncident}},[e._v("Edit")]),a("vs-button",{staticClass:"mb-2",attrs:{color:"warning",type:"border"},on:{click:e.cancelAdd}},[e._v("Cancel")])],1)])]],2)]),a("br"),a("vx-card",{directives:[{name:"show",rawName:"v-show",value:!e.isListHidden,expression:"!isListHidden"}],ref:"MainCard"},[a("div",[a("vs-table",{ref:"dataTable",staticClass:"vs-con-loading__container",attrs:{pagination:"","max-items":e.itemsPerPage,search:"",data:e.incidents},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.data;return e._l(s,(function(t,s){return a("vs-tr",{key:s,attrs:{data:t}},[a("vs-td",{attrs:{data:t.customer}},[e._v(e._s(t.customer))]),a("vs-td",{attrs:{data:t.customerCallOutNr}},[e._v(e._s(t.customerCallOutNr))]),a("vs-td",{attrs:{data:t.site}},[e._v(e._s(t.site))]),a("vs-td",{staticClass:"whitespace-no-wrap"},[a("feather-icon",{attrs:{icon:"EyeIcon",svgClasses:"w-5 h-5 hover:text-primary stroke-current"},on:{click:function(a){return a.stopPropagation(),e.showStatusPrompt(t)}}}),a("feather-icon",{staticClass:"ml-2",attrs:{icon:"EditIcon",svgClasses:"w-5 h-5 hover:text-primary stroke-current"},on:{click:function(a){return a.stopPropagation(),e.editData(t)}}}),a("feather-icon",{staticClass:"ml-2",attrs:{icon:"TrashIcon",svgClasses:"w-5 h-5 hover:text-danger stroke-current"},on:{click:function(a){return a.stopPropagation(),e.deleteData(t)}}})],1)],1)}))}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow",attrs:{slot:"header"},slot:"header"},[a("div",{ref:"addNew",staticClass:"p-3 mr-4 rounded-lg cursor-pointer flex items-center justify-between text-lg font-medium text-base text-primary border border-solid border-primary",on:{click:e.addIncident}},[a("feather-icon",{attrs:{icon:"PlusIcon",svgClasses:"h-4 w-4"}}),a("span",{staticClass:"ml-2 text-base text-primary"},[e._v("Add New")])],1),a("vs-dropdown",{staticClass:"cursor-pointer mr-4",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-4 border border-solid border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[a("span",{staticClass:"mr-2"},[e._v(e._s(e.currentPage*e.itemsPerPage-(e.itemsPerPage-1))+" - "+e._s(e.incidents.length-e.currentPage*e.itemsPerPage>0?e.currentPage*e.itemsPerPage:e.incidents.length)+" of "+e._s(e.incidents.length))]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(t){e.itemsPerPage=10}}},[a("span",[e._v("10")])]),a("vs-dropdown-item",{on:{click:function(t){e.itemsPerPage=20}}},[a("span",[e._v("20")])]),a("vs-dropdown-item",{on:{click:function(t){e.itemsPerPage=50}}},[a("span",[e._v("50")])]),a("vs-dropdown-item",{on:{click:function(t){e.itemsPerPage=100}}},[a("span",[e._v("100")])])],1)],1)],1),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"customer"}},[e._v("customer")]),a("vs-th",{attrs:{"sort-key":"Incident / Call-Out"}},[e._v("Incident / Call-Out")]),a("vs-th",{attrs:{"sort-key":"site"}},[e._v("site")]),a("vs-th",[e._v("Action")])],1)],2)],1),a("div",[a("vs-prompt",{ref:"statusPrompt",attrs:{title:"Viewer",acceptText:"Close",active:e.statusPromptActive},on:{"update:active":function(t){e.statusPromptActive=t}}},[a("div",[a("iframe",{staticStyle:{height:"100%",width:"100%","min-height":"900px","min-width":"900px"},attrs:{src:e.mydata,frameborder:"0",allowfullscreen:"true"}})])])],1)])],1)},r=[],i=(a("34ef"),a("bc3a"),a("c38f")),o=a.n(i),n=(a("0952"),a("c1df")),l=a.n(n),c=a("4a7a"),d=a.n(c),m=a("fa33"),u={data:function(){return{formData:{aid:0,account:"",cid:0,customer:"",customerID:0,id:0,customerCallOutNr:"",customerRequest:"",createDate:"",site:"",siteContactPerson:"",problemStatement:"",faultDescription:"",solution:"",completedby:"",completedDate:"",cloudSupport:"",summary:"",status:"",myPicture:""},isAddHidden:!1,isUpdateHidden:!1,myFile:"",statusPromptActive:!1,mydata:"",incidents:[],customerDropdown:[],customer:0,customerID:0,incidentDate:null,fromdate:null,isInfoHidden:!0,isListHidden:!1,itemsPerPage:10,selected:[],isMounted:null,categorieserrors:[],datetime:null,configdateTimePicker:{enableTime:!0,dateFormat:"Y/m/d h:m"}}},components:{flatPickr:o.a,"v-select":d.a,Datepicker:m["a"]},computed:{currentPage:function(){return this.isMounted?this.$refs.dataTable.currentx:0}},mounted:function(){this.loadIncidents(),this.loadcustomer(),this.isMounted=!0},methods:{successNotify:function(){this.$vs.notify({title:"Successfully",text:"Item successfully added | updated | removed",color:"success"})},loadTextFromFile:function(e){var t=this,a=e.target.files[0],s=new FileReader,r="",i="";s.readAsArrayBuffer(a),s.onload=function(e){r=new Uint8Array(e.target.result);for(var a=r.byteLength,s=0;s<a;s++)i+=String.fromCharCode(r[s]);t.myFile=btoa(i),t.formData.myPicture=btoa(i)}},showStatusPrompt:function(e){var t=this;t.mydata="http://localhost:62620/ReportViewer.aspx?incident="+e.id,t.statusPromptActive=!0},populateData:function(){var e=this;e.customer&&(e.formData.cid=e.customer.value,e.formData.customerID=e.customer.value,e.formData.customer=e.customer.label)},initValues:function(){var e=this;e.customer="",e.customerID=0,e.formData.id=0,e.formData.aid=1,e.formData.account="",e.formData.cid=0,e.formData.customer=null,e.formData.customerID=0,e.formData.customerCallOutNr="",e.formData.customerRequest="",e.formData.createDate="",e.formData.site="",e.formData.siteContactPerson="",e.formData.problemStatement="",e.formData.faultDescription="",e.formData.solution="",e.formData.completedby="",e.formData.completedDate=null,e.formData.cloudSupport="",e.formData.summary="",e.formData.status=0,e.formData.myPicture="",e.isAddHidden=!0,e.isUpdateHidden=!0},cancelAdd:function(){this.initValues(),this.isInfoHidden=!0,this.isListHidden=!1,this.loadIncidents()},addIncident:function(){this.initValues(),this.isAddHidden=!1,this.isUpdateHidden=!0,this.isInfoHidden=!1,this.isListHidden=!0},editData:function(e){var t=this;t.isInfoHidden=!1,t.isListHidden=!0,t.isAddHidden=!0,t.isUpdateHidden=!1,t.formData.id=e.id,t.formData.aid=e.aid,t.formData.account=e.account,t.formData.cid=e.cid,t.formData.customerID=e.customerID,t.formData.customer=e.customer,t.formData.customerCallOutNr=e.customerCallOutNr,t.formData.customerRequest=e.customerRequest,t.formData.createDate=e.createDate,t.formData.site=e.site,t.formData.siteContactPerson=e.siteContactPerson,t.formData.problemStatement=e.problemStatement,t.formData.faultDescription=e.faultDescription,t.formData.solution=e.solution,t.formData.completedby=e.completedby,t.formData.completedDate=e.completedDate,t.formData.cloudSupport=e.cloudSupport,t.formData.summary=e.summary,t.formData.status=e.status,t.formData.myPicture=e.myPicture,t.customer=this.formData.customer},showLoadingOnElement:function(e,t,a){var s=this;s.$vs.loading({type:a,container:s.$refs[e].$el,scale:t})},formatDate:function(e){if(e)return l()(String(e)).format("YYYY-MM-DD")},loadcustomer:function(){var e=this,t=function(t){e.customerDropdown=t.data.map((function(e){return{label:e.customer,value:e.id}}))},a=function(){};e.$ajaxGet(e,"SalesSeeker/SP_JsonResult?storeproc=CRUD_Customer_GetGrid&parameters=1",t,a)},deleteData:function(e){var t=this;t.showLoadingOnElement("dataTable",1,"radius");var a=function(e){t.isInfoHidden=!0,t.isListHidden=!1,t.initValues(),t.loadIncidents()},s=function(){t.$vs.loading.close(t.$refs.dataTable.$el),t.successNotify()};t.$ajaxPost(t,"SalesSeeker/RemoveIncidentCallOut",e,a,s)},SubmitIncident:function(e){var t=this;this.$validator.validateAll().then((function(a){if(a){var s=t;s.showLoadingOnElement("dataTable",1,"radius");var r=function(e){s.isInfoHidden=!0,s.isListHidden=!1,s.initValues(),s.loadIncidents()},i=function(){s.$vs.loading.close(s.$refs.dataTable.$el),s.successNotify()};s.$ajaxPost(s,"SalesSeeker/AddIncidentCallOut",e,r,i)}}))},editIncident:function(){var e=this;this.$validator.validateAll().then((function(t){if(t){var a=e;a.showLoadingOnElement("dataTable",1,"radius");var s=function(e){a.isInfoHidden=!0,a.isListHidden=!1,a.initValues(),a.loadIncidents()},r=function(){a.$vs.loading.close(a.$refs.dataTable.$el),a.successNotify()};a.$ajaxPost(a,"SalesSeeker/UpdateIncidentCallOut",a.formData,s,r)}}))},loadIncidents:function(){var e=this;e.showLoadingOnElement("dataTable",1,"radius");var t=function(t){e.incidents=t.data},a=function(){e.$vs.loading.close(e.$refs.dataTable.$el)};e.$ajaxGet(e,"SalesSeeker/GetIncidentCallOut?AccountID=1",t,a)}}},v=u,f=a("2877"),p=Object(f["a"])(v,s,r,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-02c0706c.f07271d2.js.map