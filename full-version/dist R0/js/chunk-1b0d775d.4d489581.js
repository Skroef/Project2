(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b0d775d"],{"0767":function(t,e,o){},"0952":function(t,e,o){},"7c72":function(t,e,o){"use strict";var s=o("0767"),a=o.n(s);a.a},a4df:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("vx-card",{ref:"MainCard"},[o("div",[o("div",[o("label",[t._v("Customer Name")]),o("v-select",{attrs:{options:t.customerDropdown,placeholder:"Search / Select Customer"},on:{"search:blur":t.populateData},model:{value:t.customer,callback:function(e){t.customer=e},expression:"customer"}})],1),o("vs-table",{ref:"gridTable",staticClass:"vs-con-loading__container",attrs:{pagination:"","max-items":t.itemsPerPage,search:"",data:t.document},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,(function(e,s){return o("vs-tr",{key:s,attrs:{data:e}},[o("vs-td",{attrs:{data:e.customer}},[t._v(t._s(e.customer))]),o("vs-td",{attrs:{data:e.document}},[t._v(t._s(e.document))]),o("vs-td",{attrs:{data:e.revision}},[t._v(t._s(e.revision))]),o("vs-td",{attrs:{data:e.documentNr}},[t._v(t._s(e.documentNr))]),o("vs-td",{attrs:{data:e.createdate}},[t._v(t._s(t.formatDate(e.createdate.replace("T"," ").split(".")[0])))]),o("vs-td",{staticClass:"whitespace-no-wrap"},[o("feather-icon",{attrs:{icon:"EyeIcon",svgClasses:"w-5 h-5 hover:text-primary stroke-current"},on:{click:function(o){return o.stopPropagation(),t.showStatusPrompt(e)}}}),o("feather-icon",{staticClass:"ml-2",attrs:{icon:"TrashIcon",svgClasses:"w-5 h-5 hover:text-danger stroke-current"},on:{click:function(o){return o.stopPropagation(),t.deleteData(e)}}})],1)],1)}))}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[o("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow",attrs:{slot:"header"},slot:"header"},[o("div",{ref:"addNew",staticClass:"p-3 mr-4 rounded-lg cursor-pointer flex items-center justify-between text-lg font-medium text-base text-primary border border-solid border-primary",on:{click:t.addNewData}},[o("feather-icon",{attrs:{icon:"PlusIcon",svgClasses:"h-4 w-4"}}),o("span",{staticClass:"ml-2 text-base text-primary"},[t._v("Assign System documents")])],1),o("vs-dropdown",{staticClass:"cursor-pointer mr-4",attrs:{"vs-trigger-click":""}},[o("div",{staticClass:"p-4 border border-solid border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[o("span",{staticClass:"mr-2"},[t._v(t._s(t.currentPage*t.itemsPerPage-(t.itemsPerPage-1))+" - "+t._s(t.document.length-t.currentPage*t.itemsPerPage>0?t.currentPage*t.itemsPerPage:t.document.length)+" of "+t._s(t.document.length))]),o("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),o("vs-dropdown-menu",[o("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=10}}},[o("span",[t._v("10")])]),o("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=20}}},[o("span",[t._v("20")])]),o("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=50}}},[o("span",[t._v("50")])]),o("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=100}}},[o("span",[t._v("100")])])],1)],1)],1),o("template",{slot:"thead"},[o("vs-th",{attrs:{"sort-key":"customer"}},[t._v("Customer")]),o("vs-th",{attrs:{"sort-key":"Document"}},[t._v("Document")]),o("vs-th",{attrs:{"sort-key":"revision"}},[t._v("Revision")]),o("vs-th",{attrs:{"sort-key":"documentNr"}},[t._v("Control Number")]),o("vs-th",{attrs:{"sort-key":"createdate"}},[t._v("Uploaded")]),o("vs-th",[t._v("Action")])],1)],2)],1),o("vs-prompt",{ref:"statusPrompt",attrs:{title:"Documentation to customer",acceptText:"Add Document",cancelText:"Cancel",active:t.statusPromptActive},on:{cancel:function(e){t.documentDropdown=0},accept:t.addDocumentDB,"update:active":function(e){t.statusPromptActive=e}}},[o("div",{staticClass:"con-exemple-prompt"},[o("div",[o("label",[t._v("Document")]),o("v-select",{attrs:{placeholder:"Choose file",options:t.promptdata},model:{value:t.documentDropdown,callback:function(e){t.documentDropdown=e},expression:"documentDropdown"}})],1)])]),o("vs-prompt",{ref:"statusPrompt",attrs:{title:"Viewer",acceptText:"Close",active:t.statusPromptActiveViewer},on:{"update:active":function(e){t.statusPromptActiveViewer=e}}},[o("div",[o("iframe",{attrs:{src:t.myData,frameborder:"0"}})])])],1)],1)},a=[],r=(o("7f7f"),o("bc3a"),o("c38f")),n=o.n(r),c=(o("0952"),o("c1df")),i=o.n(c),u=o("4a7a"),d=o.n(u),l={data:function(){return{statusPromptActiveViewer:!1,customerID:0,customer:0,documentID:0,documentDropdown:0,accountID:0,statusPromptActive:!1,promptdata:[],customerDropdown:[],itemsPerPage:10,selected:[],document:[],datetime:null,configdateTimePicker:{enableTime:!0,dateFormat:"Y/m/d h:m"},date2:null,sidebarData:{},isMounted:!1}},components:{flatPickr:n.a,"v-select":d.a},computed:{currentPage:function(){return this.isMounted?this.$refs.gridTable.currentx:0}},mounted:function(){this.loadcustomer(),this.isMounted=!0},methods:{formatDate:function(t){if(t)return i()(String(t)).format("YYYY-MM-DD")},successNotify:function(){this.$vs.notify({title:"Successfully",text:"Item successfully added | updated | removed",color:"success"})},FailedNotify:function(){this.$vs.notify({title:"Not Successfull",text:"Item not added",color:"danger"})},showStatusPrompt:function(t){var e=this;e.mydata=t.myFile,e.myData="data:application/pdf;base64,"+t.myFile,e.statusPromptActiveViewer=!0},populateData:function(){var t=this;t.customer&&(t.customerID=t.customer.value,t.GetGrid())},addNewData:function(){var t=this;t.getDocumentation((function(){t.documentDropdown=t.promptdata.filter((function(e){return e.value==t.documentID2}))[0]})),t.statusPromptActive=!0},addDocumentDB:function(){var t=this;if(t.documentDropdown){t.documentID=t.documentDropdown.value,t.showLoadingOnElement("gridTable",1,"radius");var e=function(e){t.GetGrid()},o=function(){t.$vs.loading.close(t.$refs.gridTable.$el),t.successNotify()};t.$ajaxGet(t,"SalesSeeker/PerDocumentCustomerAdd?AccountID=1&CustomerID="+t.customerID+"&DocumentID="+t.documentID,e,o)}},showLoadingOnElement:function(t,e,o){var s=this;s.$vs.loading({type:o,container:s.$refs[t].$el,scale:e})},getDocumentation:function(t){var e=this,o=function(o){e.promptdata=o.data.map((function(t){return{label:t.name,value:t.id}})),t&&"function"==typeof t&&t()},s=function(){e.$vs.loading.close(e.$refs.statusPrompt.$el)};e.$ajaxGet(e,"SalesSeeker/SP_JsonResult?storeproc=CRUD_DocumentGeneric_Get&parameters=1",o,s)},loadcustomer:function(){var t=this,e=function(e){t.customerDropdown=e.data.map((function(t){return{label:t.customer,value:t.id}}))},o=function(){};t.$ajaxGet(t,"SalesSeeker/SP_JsonResult?storeproc=CRUD_Customer_GetGrid&parameters=1",e,o)},deleteData:function(t){var e=this;e.showLoadingOnElement("gridTable",1,"radius");var o=function(t){e.GetGrid()},s=function(){e.$vs.loading.close(e.$refs.gridTable.$el),e.successNotify()};e.$ajaxGet(e,"SalesSeeker/PerDocumentCustomerRemove?AccountID=1&CustomerID="+t.cid+"&DocumentID="+t.did,o,s)},GetGrid:function(){var t=this;t.showLoadingOnElement("gridTable",1,"radius");var e=function(e){t.document=e.data},o=function(){t.$vs.loading.close(t.$refs.gridTable.$el)};t.$ajaxGet(t,"SalesSeeker/PerDocumentCustomerGet?AccountID=1&CustomerID="+t.customerID,e,o)}}},m=l,v=(o("7c72"),o("2877")),p=Object(v["a"])(m,s,a,!1,null,"73a81ee4",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-1b0d775d.4d489581.js.map