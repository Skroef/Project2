{"version":3,"sources":["webpack:///./src/views/ui-elements/saleshunter/DocumenttoCustomer.vue?6c89","webpack:///./src/views/ui-elements/saleshunter/DocumenttoCustomer.vue?604d","webpack:///src/views/ui-elements/saleshunter/DocumenttoCustomer.vue","webpack:///./src/views/ui-elements/saleshunter/DocumenttoCustomer.vue?fb5f","webpack:///./src/views/ui-elements/saleshunter/DocumenttoCustomer.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","_v","attrs","customerDropdown","on","populateData","model","value","callback","$$v","customer","expression","staticClass","itemsPerPage","document","scopedSlots","_u","key","fn","data","_l","tr","indextr","_s","revision","documentNr","createdate","formatDate","replace","split","$event","stopPropagation","showStatusPrompt","deleteData","selected","slot","addNewData","currentPage","length","statusPromptActive","documentDropdown","addDocumentDB","promptdata","statusPromptActiveViewer","myData","staticRenderFns","customerID","documentID","accountID","datetime","configdateTimePicker","enableTime","dateFormat","date2","sidebarData","isMounted","components","flatPickr","computed","$refs","gridTable","currentx","mounted","loadcustomer","methods","$vs","notify","title","text","color","self","getDocumentation","filter","item","showLoadingOnElement","onSuccess","loading","type","container","element","$el","scale","response","map","whenDone","onFinally","close","statusPrompt","$ajaxGet","GetGrid","component"],"mappings":"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","file":"js/chunk-1b0d775d.4d489581.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumenttoCustomer.vue?vue&type=style&index=1&lang=stylus&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumenttoCustomer.vue?vue&type=style&index=1&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vx-card',{ref:\"MainCard\"},[_c('div',[_c('div',[_c('label',[_vm._v(\"Customer Name\")]),_c('v-select',{attrs:{\"options\":_vm.customerDropdown,\"placeholder\":\"Search / Select Customer\"},on:{\"search:blur\":_vm.populateData},model:{value:(_vm.customer),callback:function ($$v) {_vm.customer=$$v},expression:\"customer\"}})],1),_c('vs-table',{ref:\"gridTable\",staticClass:\"vs-con-loading__container\",attrs:{\"pagination\":\"\",\"max-items\":_vm.itemsPerPage,\"search\":\"\",\"data\":_vm.document},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _vm._l((data),function(tr,indextr){return _c('vs-tr',{key:indextr,attrs:{\"data\":tr}},[_c('vs-td',{attrs:{\"data\":tr.customer}},[_vm._v(_vm._s(tr.customer))]),_c('vs-td',{attrs:{\"data\":tr.document}},[_vm._v(_vm._s(tr.document))]),_c('vs-td',{attrs:{\"data\":tr.revision}},[_vm._v(_vm._s(tr.revision))]),_c('vs-td',{attrs:{\"data\":tr.documentNr}},[_vm._v(_vm._s(tr.documentNr))]),_c('vs-td',{attrs:{\"data\":tr.createdate}},[_vm._v(_vm._s(_vm.formatDate(tr.createdate.replace(\"T\", \" \").split('.')[0])))]),_c('vs-td',{staticClass:\"whitespace-no-wrap\"},[_c('feather-icon',{attrs:{\"icon\":\"EyeIcon\",\"svgClasses\":\"w-5 h-5 hover:text-primary stroke-current\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showStatusPrompt(tr)}}}),_c('feather-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"TrashIcon\",\"svgClasses\":\"w-5 h-5 hover:text-danger stroke-current\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteData(tr)}}})],1)],1)})}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},[_c('div',{staticClass:\"flex flex-wrap-reverse items-center flex-grow\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('div',{ref:\"addNew\",staticClass:\"p-3 mr-4 rounded-lg cursor-pointer flex items-center justify-between text-lg font-medium text-base text-primary border border-solid border-primary\",on:{\"click\":_vm.addNewData}},[_c('feather-icon',{attrs:{\"icon\":\"PlusIcon\",\"svgClasses\":\"h-4 w-4\"}}),_c('span',{staticClass:\"ml-2 text-base text-primary\"},[_vm._v(\"Assign System documents\")])],1),_c('vs-dropdown',{staticClass:\"cursor-pointer mr-4\",attrs:{\"vs-trigger-click\":\"\"}},[_c('div',{staticClass:\"p-4 border border-solid border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm.currentPage * _vm.itemsPerPage - (_vm.itemsPerPage - 1))+\" - \"+_vm._s(_vm.document.length - _vm.currentPage * _vm.itemsPerPage > 0 ? _vm.currentPage * _vm.itemsPerPage : _vm.document.length)+\" of \"+_vm._s(_vm.document.length))]),_c('feather-icon',{attrs:{\"icon\":\"ChevronDownIcon\",\"svgClasses\":\"h-4 w-4\"}})],1),_c('vs-dropdown-menu',[_c('vs-dropdown-item',{on:{\"click\":function($event){_vm.itemsPerPage=10}}},[_c('span',[_vm._v(\"10\")])]),_c('vs-dropdown-item',{on:{\"click\":function($event){_vm.itemsPerPage=20}}},[_c('span',[_vm._v(\"20\")])]),_c('vs-dropdown-item',{on:{\"click\":function($event){_vm.itemsPerPage=50}}},[_c('span',[_vm._v(\"50\")])]),_c('vs-dropdown-item',{on:{\"click\":function($event){_vm.itemsPerPage=100}}},[_c('span',[_vm._v(\"100\")])])],1)],1)],1),_c('template',{slot:\"thead\"},[_c('vs-th',{attrs:{\"sort-key\":\"customer\"}},[_vm._v(\"Customer\")]),_c('vs-th',{attrs:{\"sort-key\":\"Document\"}},[_vm._v(\"Document\")]),_c('vs-th',{attrs:{\"sort-key\":\"revision\"}},[_vm._v(\"Revision\")]),_c('vs-th',{attrs:{\"sort-key\":\"documentNr\"}},[_vm._v(\"Control Number\")]),_c('vs-th',{attrs:{\"sort-key\":\"createdate\"}},[_vm._v(\"Uploaded\")]),_c('vs-th',[_vm._v(\"Action\")])],1)],2)],1),_c('vs-prompt',{ref:\"statusPrompt\",attrs:{\"title\":\"Documentation to customer\",\"acceptText\":\"Add Document\",\"cancelText\":\"Cancel\",\"active\":_vm.statusPromptActive},on:{\"cancel\":function($event){_vm.documentDropdown=0},\"accept\":_vm.addDocumentDB,\"update:active\":function($event){_vm.statusPromptActive=$event}}},[_c('div',{staticClass:\"con-exemple-prompt\"},[_c('div',[_c('label',[_vm._v(\"Document\")]),_c('v-select',{attrs:{\"placeholder\":\"Choose file\",\"options\":_vm.promptdata},model:{value:(_vm.documentDropdown),callback:function ($$v) {_vm.documentDropdown=$$v},expression:\"documentDropdown\"}})],1)])]),_c('vs-prompt',{ref:\"statusPrompt\",attrs:{\"title\":\"Viewer\",\"acceptText\":\"Close\",\"active\":_vm.statusPromptActiveViewer},on:{\"update:active\":function($event){_vm.statusPromptActiveViewer=$event}}},[_c('div',[_c('iframe',{attrs:{\"src\":_vm.myData,\"frameborder\":\"0\"}})])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- =========================================================================================\r\n    File Name: LoadingDefault.vue\r\n    Description: Add default loading to your application\r\n    ----------------------------------------------------------------------------------------\r\n    Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\r\n      Author: Pixinvent\r\n    Author URL: http://www.themeforest.net/user/pixinvent\r\n    CRUD_Account_Get CRUD_Account_Get\r\n    https://localhost:44341/api/FAMS/SP_JsonResult?storeproc=CRUD_Account_Get&parameters=1\r\n========================================================================================== -->\r\n\r\n\r\n<template>\r\n  <div>\r\n   \r\n    <vx-card ref=\"MainCard\">\r\n      <div>\r\n        <div >\r\n          <label>Customer Name</label>  \r\n                <v-select  :options=\"customerDropdown\" placeholder=\"Search / Select Customer\"  v-model=\"customer\"  @search:blur=\"populateData\" />\r\n              </div>\r\n        <vs-table\r\n          ref=\"gridTable\"\r\n          v-model=\"selected\"\r\n          pagination\r\n          :max-items=\"itemsPerPage\"\r\n          search\r\n          :data=\"document\"\r\n          class=\"vs-con-loading__container\"\r\n        >\r\n          <div slot=\"header\" class=\"flex flex-wrap-reverse items-center flex-grow\">\r\n            <!-- ADD NEW -->\r\n              \r\n\r\n              <div\r\n              ref=\"addNew\"\r\n              class=\"p-3 mr-4 rounded-lg cursor-pointer flex items-center justify-between text-lg font-medium text-base text-primary border border-solid border-primary\"\r\n              @click=\"addNewData\"\r\n            >\r\n              <feather-icon icon=\"PlusIcon\" svgClasses=\"h-4 w-4\" />\r\n              <span class=\"ml-2 text-base text-primary\">Assign System documents</span>\r\n            </div>\r\n            \r\n\r\n            <!-- ITEMS PER PAGE -->\r\n            <vs-dropdown vs-trigger-click class=\"cursor-pointer mr-4\">\r\n              <div\r\n                class=\"p-4 border border-solid border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium\"\r\n              >\r\n                <span\r\n                  class=\"mr-2\"\r\n                >{{ currentPage * itemsPerPage - (itemsPerPage - 1) }} - {{ document.length - currentPage * itemsPerPage > 0 ? currentPage * itemsPerPage : document.length }} of {{ document.length }}</span>\r\n                <feather-icon icon=\"ChevronDownIcon\" svgClasses=\"h-4 w-4\" />\r\n              </div>\r\n              <!-- <vs-button class=\"btn-drop\" type=\"line\" color=\"primary\" icon-pack=\"feather\" icon=\"icon-chevron-down\"></vs-button> -->\r\n              <vs-dropdown-menu>\r\n                <vs-dropdown-item @click=\"itemsPerPage=10\">\r\n                  <span>10</span>\r\n                </vs-dropdown-item>\r\n                <vs-dropdown-item @click=\"itemsPerPage=20\">\r\n                  <span>20</span>\r\n                </vs-dropdown-item>\r\n                <vs-dropdown-item @click=\"itemsPerPage=50\">\r\n                  <span>50</span>\r\n                </vs-dropdown-item>\r\n                <vs-dropdown-item @click=\"itemsPerPage=100\">\r\n                  <span>100</span>\r\n                </vs-dropdown-item>\r\n              </vs-dropdown-menu>\r\n            </vs-dropdown>\r\n          </div>\r\n\r\n          <template slot=\"thead\">\r\n            <vs-th sort-key=\"customer\">Customer</vs-th>\r\n            <vs-th sort-key=\"Document\">Document</vs-th>\r\n            <vs-th sort-key=\"revision\">Revision</vs-th>\r\n           <vs-th sort-key=\"documentNr\">Control Number</vs-th>\r\n           <vs-th sort-key=\"createdate\">Uploaded</vs-th>\r\n            <vs-th>Action</vs-th>\r\n          </template>\r\n          <!-- visible: false -->\r\n          <template slot-scope=\"{data}\">\r\n            <vs-tr :data=\"tr\" :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n              <vs-td :data=\"tr.customer\">{{tr.customer}}</vs-td>\r\n              <vs-td :data=\"tr.document\">{{tr.document}}</vs-td>\r\n              <vs-td :data=\"tr.revision\">{{tr.revision}}</vs-td>\r\n              <vs-td :data=\"tr.documentNr\">{{tr.documentNr}}</vs-td>\r\n              <vs-td :data=\"tr.createdate\">{{formatDate(tr.createdate.replace(\"T\", \" \").split('.')[0])}}</vs-td>\r\n              <vs-td class=\"whitespace-no-wrap\">\r\n                <feather-icon\r\n                  icon=\"EyeIcon\"\r\n                  svgClasses=\"w-5 h-5 hover:text-primary stroke-current\"           \r\n                  @click.stop=\"showStatusPrompt(tr)\"\r\n                />\r\n                <feather-icon\r\n                  icon=\"TrashIcon\"\r\n                  svgClasses=\"w-5 h-5 hover:text-danger stroke-current\"\r\n                  class=\"ml-2\"\r\n                  @click.stop=\"deleteData(tr)\"\r\n                />\r\n              </vs-td>\r\n              \r\n            </vs-tr>\r\n          </template>\r\n        </vs-table>\r\n      </div>\r\n       <vs-prompt\r\n        ref=\"statusPrompt\"\r\n        title=\"Documentation to customer\"\r\n        acceptText=\"Add Document\"\r\n        cancelText=\"Cancel\"\r\n        @cancel=\"documentDropdown=0\"\r\n        @accept=\"addDocumentDB\"\r\n        :active.sync=\"statusPromptActive\">\r\n        <div class=\"con-exemple-prompt\">\r\n          <div>\r\n            <label>Document</label>\r\n            <v-select placeholder=\"Choose file\" :options=\"promptdata\" v-model=\"documentDropdown\"></v-select>\r\n          </div>\r\n        </div>\r\n      </vs-prompt>\r\n\r\n      <vs-prompt\r\n        ref=\"statusPrompt\"\r\n        title=\"Viewer\"\r\n        acceptText=\"Close\"\r\n        :active.sync=\"statusPromptActiveViewer\">\r\n         <div>\r\n            <iframe :src=\"myData\" frameborder=\"0\" > </iframe>\r\n        </div>\r\n      </vs-prompt>\r\n\r\n    </vx-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport flatPickr from \"vue-flatpickr-component\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport moment from \"moment\";\r\nimport vSelect from \"vue-select\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      statusPromptActiveViewer: false,\r\n      customerID:0,\r\n      customer:0,\r\n      documentID:0,\r\n      documentDropdown: 0,\r\n\r\n      accountID:0,\r\n      statusPromptActive: false,\r\n      promptdata: [],\r\n      customerDropdown:[],\r\n\r\n      itemsPerPage: 10,\r\n    \r\n      selected: [],\r\n      document: [],\r\n    \r\n      datetime: null,\r\n      configdateTimePicker: {\r\n        enableTime: true,\r\n        dateFormat: \"Y/m/d h:m\"\r\n      },\r\n      date2: null,\r\n      sidebarData: {},\r\n      isMounted: false,\r\n    };\r\n  },\r\n  components: {\r\n    flatPickr  ,\r\n    \"v-select\": vSelect\r\n  },\r\n  computed: {\r\n    currentPage() {\r\n      if (this.isMounted) {\r\n        return this.$refs.gridTable.currentx;\r\n      }\r\n      return 0;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadcustomer();\r\n    this.isMounted = true;\r\n  },\r\n  methods: {\r\n    formatDate: function(value) {\r\n      if (value) {\r\n        return moment(String(value)).format(\"YYYY-MM-DD\");\r\n      }\r\n    },\r\n\r\n     successNotify() {\r\n      this.$vs.notify({\r\n        title: 'Successfully',\r\n        text: 'Item successfully added | updated | removed',\r\n        color: 'success'\r\n      })\r\n    },\r\n  FailedNotify() {\r\n      this.$vs.notify({\r\n        title: 'Not Successfull',\r\n        text: 'Item not added',\r\n        color: 'danger'\r\n      })\r\n    },\r\n\r\n    //********************* Application events */\r\n     showStatusPrompt(data) {\r\n       var self = this;\r\n       self.mydata = data.myFile;\r\n       self.myData = 'data:application/pdf;base64,' + data.myFile\r\n       self.statusPromptActiveViewer = true;\r\n    },\r\n\r\n     populateData() {\r\n      var self = this;\r\n      //self.statusDropdown.value;\r\n      if (self.customer) {\r\n          self.customerID = self.customer.value;\r\n          self.GetGrid();\r\n        }\r\n      },\r\n\r\n     addNewData() {\r\n      var self = this;\r\n      self.getDocumentation(function () {\r\n        self.documentDropdown = self.promptdata.filter(function (item) { return item.value == self.documentID2; })[0];\r\n      });\r\n      self.statusPromptActive = true;\r\n    },\r\n\r\n    addDocumentDB() {\r\n      const self = this;\r\n      if(self.documentDropdown){\r\n        self.documentID = self.documentDropdown.value;\r\n        self.showLoadingOnElement(\"gridTable\", 1, \"radius\");\r\n        var onSuccess = function(response) {\r\n            self.GetGrid();\r\n          };\r\n          var onFinally = function() {\r\n            self.$vs.loading.close(self.$refs.gridTable.$el);\r\n            self.successNotify();\r\n          };\r\n          self.$ajaxGet(\r\n            self,\r\n            \"SalesSeeker/PerDocumentCustomerAdd?AccountID=1&CustomerID=\" + self.customerID  + \"&DocumentID=\" + self.documentID ,\r\n            onSuccess,\r\n            onFinally\r\n          );\r\n        }\r\n    },\r\n\r\n\r\n    showLoadingOnElement(element, scale, type) {\r\n      var self = this;\r\n      self.$vs.loading({\r\n        type: type,\r\n        container: self.$refs[element].$el,\r\n        scale: scale\r\n      });\r\n    },\r\n    //********************* SQL events */\r\n    getDocumentation(whenDone) {\r\n      const self = this;\r\n      // self.showLoadingOnElement(\"statusPrompt\", 1, \"radius\");\r\n\r\n      var onSuccess = function(response) {\r\n        self.promptdata = response.data.map((item) => {return {label: item.name, value: item.id} });\r\n        if (whenDone && typeof whenDone == \"function\")\r\n          whenDone();\r\n      };\r\n      var onFinally = function() {\r\n        self.$vs.loading.close(self.$refs.statusPrompt.$el);\r\n      };\r\n      self.$ajaxGet(\r\n        self,\r\n        \"SalesSeeker/SP_JsonResult?storeproc=CRUD_DocumentGeneric_Get&parameters=1\",\r\n        onSuccess,\r\n        onFinally\r\n      );\r\n    },\r\n\r\n    loadcustomer() {\r\n      const self = this;\r\n      // self.showLoadingOnElement(\"customerTable\", 1, \"radius\");\r\n      var onSuccess = function(response) {\r\n        self.customerDropdown = response.data.map(function(item) {\r\n          //return { text: item.customer, value: item.id };\r\n          return { label: item.customer, value: item.id };\r\n        });\r\n      };\r\n      var onFinally = function() {\r\n        // self.$vs.loading.close(self.$refs.categorySelect.$el);\r\n      };\r\n      self.$ajaxGet(\r\n        self,\r\n        \"SalesSeeker/SP_JsonResult?storeproc=CRUD_Customer_GetGrid&parameters=1\",\r\n        onSuccess,\r\n        onFinally\r\n      );\r\n    },\r\n  \r\n  \r\n    deleteData(data) {\r\n      const self = this;\r\n      self.showLoadingOnElement(\"gridTable\", 1, \"radius\");\r\n      debugger\r\n      var onSuccess = function(response) {\r\n        self.GetGrid();\r\n      };\r\n      var onFinally = function() {\r\n        self.$vs.loading.close(self.$refs.gridTable.$el);\r\n         self.successNotify();\r\n      };\r\n      self.$ajaxGet(\r\n        self,\r\n        \"SalesSeeker/PerDocumentCustomerRemove?AccountID=1&CustomerID=\" + data.cid  + \"&DocumentID=\" + data.did ,\r\n        onSuccess,\r\n        onFinally\r\n      );\r\n    },\r\n     \r\n    GetGrid() {\r\n      const self = this;\r\n      self.showLoadingOnElement(\"gridTable\", 1, \"radius\");\r\n\r\n      var onSuccess = function(response) {\r\n        self.document = response.data;\r\n      };\r\n      var onFinally = function() {\r\n        self.$vs.loading.close(self.$refs.gridTable.$el);\r\n      };\r\n      self.$ajaxGet(\r\n        self,\r\n         \"SalesSeeker/PerDocumentCustomerGet?AccountID=1&CustomerID=\" + self.customerID ,\r\n        onSuccess,\r\n        onFinally\r\n      );\r\n    },\r\n\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n \r\n</style>\r\n<style lang=\"stylus\">\r\n.con-exemple-prompt\r\n  padding 10px;\r\n  padding-bottom 0px;\r\n  .vs-input\r\n    width 100%\r\n    margin-top 10px;\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumenttoCustomer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumenttoCustomer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DocumenttoCustomer.vue?vue&type=template&id=73a81ee4&scoped=true&\"\nimport script from \"./DocumenttoCustomer.vue?vue&type=script&lang=js&\"\nexport * from \"./DocumenttoCustomer.vue?vue&type=script&lang=js&\"\nimport style1 from \"./DocumenttoCustomer.vue?vue&type=style&index=1&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73a81ee4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}