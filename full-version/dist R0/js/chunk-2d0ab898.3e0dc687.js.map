{"version":3,"sources":["webpack:///./src/views/ui-elements/saleshunter/Quotationlist.vue?3e10","webpack:///src/views/ui-elements/saleshunter/Quotationlist.vue","webpack:///./src/views/ui-elements/saleshunter/Quotationlist.vue?5e35","webpack:///./src/views/ui-elements/saleshunter/Quotationlist.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","addNewDataSidebar","sidebarData","on","toggleDataSidebar","update","ref","popupActive","$event","staticStyle","quoteselected","itemsPerPage","quotations","scopedSlots","_u","key","fn","data","_l","tr","indextr","quoteNr","_v","_s","quoteRef","customer","quoteDate","formatDate","replace","split","quoteExpiryDate","quoteTotal","Number","toLocaleString","stopPropagation","viewData","editData","deleteData","showStatusPrompt","model","value","callback","$$v","selected","expression","slot","addNewData","currentPage","length","statusPromptActive","statusDropdown","updateStatus","quoteStatusses","changeStatusData","$set","staticRenderFns","isMounted","formData","id","accountID","categorycustomerid","currencyid","name","vatNumber","address1","address2","address3","address4","postcalCode","contactName","contactEmail","contactPhone","contactMobile","webAddress","enable","quoteId","statusId","accountId","comment","components","flatPickr","CustomerSidebar","mounted","loadQuotation","computed","$refs","quoteTable","currentx","methods","self","qid","quoteStatusID","getStatusses","filter","item","$router","push","onSuccess","response","map","whenDone","onFinally","$vs","loading","close","statusPrompt","$el","$ajaxGet","params","showLoadingOnElement","loadcustomer","$ajaxPost","val","type","container","element","scale","component"],"mappings":"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","file":"js/chunk-2d0ab898.3e0dc687.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"data-list-container\",attrs:{\"id\":\"data-list-list-view\"}},[_c('customer-sidebar',{attrs:{\"isSidebarActive\":_vm.addNewDataSidebar,\"data\":_vm.sidebarData},on:{\"closeSidebar\":_vm.toggleDataSidebar,\"update\":_vm.update}}),_c('vx-card',{ref:\"MainCard\",attrs:{\"title\":\"\"}},[_c('vs-popup',{attrs:{\"fullscreen\":\"\",\"title\":\"Quotation Viewer\",\"active\":_vm.popupActive},on:{\"update:active\":function($event){_vm.popupActive=$event}}},[_c('iframe',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"min-height\":\"1000px\"},attrs:{\"src\":_vm.quoteselected,\"frameborder\":\"0\",\"allowfullscreen\":\"true\"}})]),_c('div',[_c('vs-table',{ref:\"quoteTable\",staticClass:\"vs-con-loading__container\",attrs:{\"pagination\":\"\",\"max-items\":_vm.itemsPerPage,\"search\":\"\",\"data\":_vm.quotations},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _vm._l((data),function(tr,indextr){return _c('vs-tr',{key:indextr,attrs:{\"data\":tr}},[_c('vs-td',{attrs:{\"data\":tr.quoteNr}},[_vm._v(_vm._s(tr.quoteNr))]),_c('vs-td',{attrs:{\"data\":tr.quoteRef}},[_vm._v(_vm._s(tr.quoteRef))]),_c('vs-td',{attrs:{\"data\":tr.customer}},[_vm._v(_vm._s(tr.customer))]),_c('vs-td',{attrs:{\"data\":tr.quoteDate}},[_vm._v(_vm._s(_vm.formatDate(tr.quoteDate.replace(\"T\", \" \").split('.')[0])))]),_c('vs-td',{attrs:{\"data\":tr.quoteExpiryDate}},[_vm._v(_vm._s(_vm.formatDate(tr.quoteExpiryDate.replace(\"T\", \" \").split('.')[0])))]),_c('vs-td',{attrs:{\"data\":tr.quoteTotal}},[_vm._v(_vm._s(\"R \" + Number(tr.quoteTotal).toLocaleString('en')))]),_c('vs-td',{staticClass:\"whitespace-no-wrap\"},[_c('feather-icon',{attrs:{\"icon\":\"EyeIcon\",\"svgClasses\":\"w-5 h-5 hover:text-primary stroke-current\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.viewData(tr)}}}),_c('feather-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"EditIcon\",\"svgClasses\":\"w-5 h-5 hover:text-primary stroke-current\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.editData(tr)}}}),_c('feather-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"TrashIcon\",\"svgClasses\":\"w-5 h-5 hover:text-danger stroke-current\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteData(tr)}}}),_c('feather-icon',{staticClass:\"ml-2\",attrs:{\"icon\":\"FlagIcon\",\"svgClasses\":\"w-5 h-5 hover:text-success stroke-current\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showStatusPrompt(tr)}}})],1)],1)})}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},[_c('div',{staticClass:\"flex flex-wrap-reverse items-center flex-grow\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('div',{ref:\"addNewData\",staticClass:\"p-3 mr-4 rounded-lg cursor-pointer flex items-center justify-between text-lg font-medium text-base text-primary border border-solid border-primary\",on:{\"click\":_vm.addNewData}},[_c('feather-icon',{attrs:{\"icon\":\"PlusIcon\",\"svgClasses\":\"h-4 w-4\"}}),_c('span',{staticClass:\"ml-2 text-base text-primary\"},[_vm._v(\"Add New\")])],1),_c('vs-dropdown',{staticClass:\"cursor-pointer mr-4\",attrs:{\"vs-trigger-click\":\"\"}},[_c('div',{staticClass:\"p-4 border border-solid border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm.currentPage * _vm.itemsPerPage - (_vm.itemsPerPage - 1))+\" - \"+_vm._s(_vm.quotations.length - _vm.currentPage * _vm.itemsPerPage > 0 ? _vm.currentPage * _vm.itemsPerPage : _vm.quotations.length)+\" of \"+_vm._s(_vm.quotations.length))]),_c('feather-icon',{attrs:{\"icon\":\"ChevronDownIcon\",\"svgClasses\":\"h-4 w-4\"}})],1),_c('vs-dropdown-menu',[_c('vs-dropdown-item',{on:{\"click\":function($event){_vm.itemsPerPage=10}}},[_c('span',[_vm._v(\"10\")])]),_c('vs-dropdown-item',{on:{\"click\":function($event){_vm.itemsPerPage=20}}},[_c('span',[_vm._v(\"20\")])]),_c('vs-dropdown-item',{on:{\"click\":function($event){_vm.itemsPerPage=50}}},[_c('span',[_vm._v(\"50\")])]),_c('vs-dropdown-item',{on:{\"click\":function($event){_vm.itemsPerPage=100}}},[_c('span',[_vm._v(\"100\")])])],1)],1)],1),_c('template',{slot:\"thead\"},[_c('vs-th',{attrs:{\"sort-key\":\"quoteNr\"}},[_vm._v(\"Quote No.\")]),_c('vs-th',{attrs:{\"sort-key\":\"quoteRef\"}},[_vm._v(\"Reference\")]),_c('vs-th',{attrs:{\"sort-key\":\"customer\"}},[_vm._v(\"Customer\")]),_c('vs-th',{staticStyle:{\"width\":\"115px\"},attrs:{\"sort-key\":\"quoteDate\"}},[_vm._v(\"Created On\")]),_c('vs-th',{staticStyle:{\"width\":\"115px\"},attrs:{\"sort-key\":\"quoteExpiryDate\"}},[_vm._v(\"Expire On\")]),_c('vs-th',{staticStyle:{\"width\":\"140px\"},attrs:{\"sort-key\":\"quoteTotal\"}},[_vm._v(\"Total\")]),_c('vs-th',[_vm._v(\"Action\")])],1)],2)],1),_c('vs-prompt',{ref:\"statusPrompt\",attrs:{\"title\":\"Update Quote Status\",\"acceptText\":\"Update\",\"cancelText\":\"Cancel\",\"active\":_vm.statusPromptActive},on:{\"cancel\":function($event){_vm.statusDropdown=0},\"accept\":_vm.updateStatus,\"update:active\":function($event){_vm.statusPromptActive=$event}}},[_c('div',{staticClass:\"con-exemple-prompt\"},[_c('div',[_c('label',[_vm._v(\"Status\")]),_c('v-select',{attrs:{\"placeholder\":\"Choose Status\",\"options\":_vm.quoteStatusses},model:{value:(_vm.statusDropdown),callback:function ($$v) {_vm.statusDropdown=$$v},expression:\"statusDropdown\"}})],1),_c('div',[_c('label',[_vm._v(\"Comment\")]),_c('vs-textarea',{model:{value:(_vm.changeStatusData.comment),callback:function ($$v) {_vm.$set(_vm.changeStatusData, \"comment\", $$v)},expression:\"changeStatusData.comment\"}})],1)])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- =========================================================================================\r\n    File Name: LoadingDefault.vue\r\n    Description: Add default loading to your application\r\n    ----------------------------------------------------------------------------------------\r\n    Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\r\n      Author: Pixinvent\r\n    Author URL: http://www.themeforest.net/user/pixinvent\r\n    CRUD_Account_Get CRUD_Account_Get\r\n    https://localhost:44341/api/FAMS/SP_JsonResult?storeproc=CRUD_Account_Get&parameters=1\r\n========================================================================================== -->\r\n\r\n<template>\r\n  <div id=\"data-list-list-view\" class=\"data-list-container\">\r\n    <customer-sidebar\r\n      :isSidebarActive=\"addNewDataSidebar\"\r\n      @closeSidebar=\"toggleDataSidebar\"\r\n      :data=\"sidebarData\"\r\n      @update=\"update\"\r\n    />\r\n\r\n    <vx-card ref=\"MainCard\" title>\r\n      <vs-popup fullscreen title=\"Quotation Viewer\" :active.sync=\"popupActive\">\r\n        <iframe\r\n          :src=\"quoteselected\"\r\n          style=\"height: 100%; width: 100%;  min-height: 1000px;\"\r\n          frameborder=\"0\"\r\n          allowfullscreen=\"true\"\r\n        />\r\n      </vs-popup>\r\n\r\n      <div>\r\n        <vs-table\r\n          ref=\"quoteTable\"\r\n          v-model=\"selected\"\r\n          pagination\r\n          :max-items=\"itemsPerPage\"\r\n          search\r\n          :data=\"quotations\"\r\n          class=\"vs-con-loading__container\"\r\n        >\r\n          <div slot=\"header\" class=\"flex flex-wrap-reverse items-center flex-grow\">\r\n            <!-- ADD NEW -->\r\n            <div\r\n              ref=\"addNewData\"\r\n              class=\"p-3 mr-4 rounded-lg cursor-pointer flex items-center justify-between text-lg font-medium text-base text-primary border border-solid border-primary\"\r\n              @click=\"addNewData\"\r\n            >\r\n              <feather-icon icon=\"PlusIcon\" svgClasses=\"h-4 w-4\" />\r\n              <span class=\"ml-2 text-base text-primary\">Add New</span>\r\n            </div>\r\n\r\n            <!-- ITEMS PER PAGE -->\r\n            <vs-dropdown vs-trigger-click class=\"cursor-pointer mr-4\">\r\n              <div\r\n                class=\"p-4 border border-solid border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium\"\r\n              >\r\n                <span\r\n                  class=\"mr-2\"\r\n                >{{ currentPage * itemsPerPage - (itemsPerPage - 1) }} - {{ quotations.length - currentPage * itemsPerPage > 0 ? currentPage * itemsPerPage : quotations.length }} of {{ quotations.length }}</span>\r\n                <feather-icon icon=\"ChevronDownIcon\" svgClasses=\"h-4 w-4\" />\r\n              </div>\r\n              <!-- <vs-button class=\"btn-drop\" type=\"line\" color=\"primary\" icon-pack=\"feather\" icon=\"icon-chevron-down\"></vs-button> -->\r\n              <vs-dropdown-menu>\r\n                <vs-dropdown-item @click=\"itemsPerPage=10\">\r\n                  <span>10</span>\r\n                </vs-dropdown-item>\r\n                <vs-dropdown-item @click=\"itemsPerPage=20\">\r\n                  <span>20</span>\r\n                </vs-dropdown-item>\r\n                <vs-dropdown-item @click=\"itemsPerPage=50\">\r\n                  <span>50</span>\r\n                </vs-dropdown-item>\r\n                <vs-dropdown-item @click=\"itemsPerPage=100\">\r\n                  <span>100</span>\r\n                </vs-dropdown-item>\r\n              </vs-dropdown-menu>\r\n            </vs-dropdown>\r\n          </div>\r\n\r\n          <template slot=\"thead\">\r\n            <vs-th sort-key=\"quoteNr\">Quote No.</vs-th>\r\n            <vs-th sort-key=\"quoteRef\">Reference</vs-th>\r\n            <vs-th sort-key=\"customer\">Customer</vs-th>\r\n            <vs-th sort-key=\"quoteDate\" style=\"width: 115px;\">Created On</vs-th>\r\n            <vs-th sort-key=\"quoteExpiryDate\" style=\"width: 115px;\">Expire On</vs-th>\r\n            <vs-th sort-key=\"quoteTotal\" style=\"width: 140px;\">Total</vs-th>\r\n            <vs-th>Action</vs-th>\r\n          </template>\r\n          <!-- visible: false -->\r\n          <template slot-scope=\"{data}\">\r\n            <vs-tr :data=\"tr\" :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n              <vs-td :data=\"tr.quoteNr\">{{tr.quoteNr}}</vs-td>\r\n              <vs-td :data=\"tr.quoteRef\">{{tr.quoteRef}}</vs-td>\r\n              <vs-td :data=\"tr.customer\">{{tr.customer}}</vs-td>\r\n              <vs-td\r\n                :data=\"tr.quoteDate\"\r\n              >{{formatDate(tr.quoteDate.replace(\"T\", \" \").split('.')[0])}}</vs-td>\r\n              <vs-td\r\n                :data=\"tr.quoteExpiryDate\"\r\n              >{{formatDate(tr.quoteExpiryDate.replace(\"T\", \" \").split('.')[0])}}</vs-td>\r\n              <vs-td :data=\"tr.quoteTotal\">{{ \"R \" + Number(tr.quoteTotal).toLocaleString('en') }}</vs-td>\r\n              <vs-td class=\"whitespace-no-wrap\">\r\n                <feather-icon\r\n                  icon=\"EyeIcon\"\r\n                  svgClasses=\"w-5 h-5 hover:text-primary stroke-current\"\r\n                  @click.stop=\"viewData(tr)\"\r\n                />\r\n                <feather-icon\r\n                  icon=\"EditIcon\"\r\n                  svgClasses=\"w-5 h-5 hover:text-primary stroke-current\"\r\n                  class=\"ml-2\"\r\n                  @click.stop=\"editData(tr)\"\r\n                />\r\n                <feather-icon\r\n                  icon=\"TrashIcon\"\r\n                  svgClasses=\"w-5 h-5 hover:text-danger stroke-current\"\r\n                  class=\"ml-2\"\r\n                  @click.stop=\"deleteData(tr)\"\r\n                />\r\n                <feather-icon\r\n                  icon=\"FlagIcon\"\r\n                  svgClasses=\"w-5 h-5 hover:text-success stroke-current\"\r\n                  class=\"ml-2\"\r\n                  @click.stop=\"showStatusPrompt(tr)\"\r\n                />\r\n              </vs-td>\r\n            </vs-tr>\r\n          </template>\r\n        </vs-table>\r\n      </div>\r\n\r\n      <vs-prompt\r\n        ref=\"statusPrompt\"\r\n        title=\"Update Quote Status\"\r\n        acceptText=\"Update\"\r\n        cancelText=\"Cancel\"\r\n        @cancel=\"statusDropdown=0\"\r\n        @accept=\"updateStatus\"\r\n        :active.sync=\"statusPromptActive\">\r\n        <div class=\"con-exemple-prompt\">\r\n          <div>\r\n            <label>Status</label>\r\n            <v-select placeholder=\"Choose Status\" :options=\"quoteStatusses\" v-model=\"statusDropdown\"></v-select>\r\n          </div>\r\n          <div>\r\n            <label>Comment</label>\r\n            <vs-textarea v-model=\"changeStatusData.comment\" />\r\n          </div>\r\n        </div>\r\n      </vs-prompt>\r\n\r\n    </vx-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport flatPickr from \"vue-flatpickr-component\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport CustomerSidebar from \"./CustomerSidebar.vue\";\r\nimport moment from \"moment\";\r\nimport vSelect from 'vue-select'\r\nexport default {\r\n  data() {\r\n    return {\r\n      statusPromptActive: false,\r\n      statusDropdown: 0,\r\n      quoteStatusses: [],\r\n      itemsPerPage: 10,\r\n      quoteselected: \"\",\r\n      selected: [],\r\n      quotations: [],\r\n      isMounted: false,\r\n      popupActive: false,\r\n      // Data Sidebar\r\n      addNewDataSidebar: false,\r\n      sidebarData: {},\r\n      formData: {\r\n        id: 0,\r\n        accountID: 0,\r\n        categorycustomerid: 0,\r\n        currencyid: 0,\r\n        customer: \"\",\r\n        name: \"\",\r\n        vatNumber: \"\",\r\n        address1: \"\",\r\n        address2: \"\",\r\n        address3: \"\",\r\n        address4: \"\",\r\n        postcalCode: \"\",\r\n        contactName: \"\",\r\n        contactEmail: \"\",\r\n        contactPhone: \"\",\r\n        contactMobile: \"\",\r\n        webAddress: \"\",\r\n        enable: 1\r\n      },\r\n      changeStatusData: {\r\n        quoteId: 0,\r\n        statusId: 0,\r\n        accountId: 1,\r\n        comment: \"\"\r\n      }\r\n    };\r\n  },\r\n  components: {\r\n    flatPickr,\r\n    CustomerSidebar,\r\n    'v-select': vSelect\r\n  },\r\n  mounted() {\r\n    this.loadQuotation();\r\n    this.isMounted = true;\r\n  },\r\n  computed: {\r\n    currentPage() {\r\n      if (this.isMounted) {\r\n        return this.$refs.quoteTable.currentx;\r\n      }\r\n      return 0;\r\n    }\r\n  },\r\n  methods: {\r\n    formatDate: function(value) {\r\n      if (value) {\r\n        return moment(String(value)).format(\"YYYY-MM-DD\");\r\n      }\r\n    },\r\n    showStatusPrompt(tr) {\r\n      debugger\r\n      var self = this;\r\n      self.changeStatusData = {\r\n        quoteId: tr.qid,\r\n        statusId: tr.quoteStatusID,\r\n        accountId: 1,\r\n        comment: \"\"\r\n      };\r\n      self.getStatusses(function () {\r\n        self.statusDropdown = self.quoteStatusses.filter(function (item) { return item.value == self.changeStatusData.quoteStatusID; })[0];\r\n      });\r\n      self.statusPromptActive = true;\r\n    },\r\n    updateStatus() {\r\n      var self = this;\r\n      debugger;\r\n      if(self.statusDropdown){\r\n        self.changeStatusData.statusId = self.statusDropdown.value;\r\n\r\n        //-----------Andre----- >>> do send the 'changeStatusData' object to backend here\r\n      }\r\n    },\r\n    addNewData() {\r\n      this.$router.push({ name: \"quotationlayout\" });\r\n      // this.sidebarData = {}\r\n      // this.toggleDataSidebar(true)\r\n    },\r\n    getStatusses(whenDone) {\r\n      const self = this;\r\n      // self.showLoadingOnElement(\"statusPrompt\", 1, \"radius\");\r\n\r\n      var onSuccess = function(response) {\r\n        self.quoteStatusses = response.data.map((item) => {return {label: item.name, value: item.id} });\r\n        if (whenDone && typeof whenDone == \"function\")\r\n          whenDone();\r\n      };\r\n      var onFinally = function() {\r\n        self.$vs.loading.close(self.$refs.statusPrompt.$el);\r\n      };\r\n      self.$ajaxGet(\r\n        self,\r\n        \"SalesSeeker/SP_JsonResult?storeproc=CRUD_QuotationStatus&parameters=1\",\r\n        onSuccess,\r\n        onFinally\r\n      );\r\n    },\r\n    viewData(data) {\r\n      this.quoteselected = \"\";\r\n      this.popupActive = true;\r\n      // var str = \"QUO0000017\"\r\n      // var res = data.quoteNr.replace(\"QUO\", \"\");\r\n\r\n      this.quoteselected =\r\n        \"http://localhost:62620/ReportViewer.aspx?quoteID=\" +\r\n        data.quoteNr.replace(\"QUO\", \"\"); //res; //data.qid\r\n      //http://localhost:62620/ReportViewer.aspx?quoteID=0000018\r\n    },\r\n    editData(data) {\r\n      const self = this;\r\n      self.$router.push({\r\n        name: \"quotationlayout\",\r\n        params: { quoteNr: data.qid }\r\n      });\r\n      // self.$router.push({ name: 'quotationcrud', params: { personId: self.formData.personId, leadVehicleInfo: self.formData } })\r\n      // this.popupActive=true\r\n      // this.sidebarData = data\r\n      // this.toggleDataSidebar(true)\r\n    },\r\n    deleteData(data) {\r\n      const self = this;\r\n      self.showLoadingOnElement(\"quoteTable\", 1, \"radius\");\r\n\r\n      var onSuccess = function(response) {\r\n        self.loadQuotation();\r\n      };\r\n      var onFinally = function() {\r\n        self.$vs.loading.close(self.$refs.quoteTable.$el);\r\n      };\r\n      self.$ajaxGet(\r\n        self,\r\n        \"SalesSeeker/RemoveQuotation?quotesId=\" + data.qid,\r\n        onSuccess,\r\n        onFinally\r\n      );\r\n    },\r\n    //  addcustomer(data) {\r\n\r\n    //     const self = this;\r\n    //     self.showLoadingOnElement(\"quoteTable\", 1, \"radius\");\r\n\r\n    //     var onSuccess = function(response) {\r\n    //      self.loadQuotation();\r\n    //     };\r\n    //     var onFinally = function() {\r\n    //       self.$vs.loading.close(self.$refs.quoteTable.$el);\r\n    //     };\r\n    //      self.$ajaxPost(self, \"SalesSeeker/AddCustomer\", data, onSuccess, onFinally);\r\n    //   },\r\n    update(data) {\r\n      const self = this;\r\n      self.showLoadingOnElement(\"quoteTable\", 1, \"radius\");\r\n\r\n      var onSuccess = function(response) {\r\n        self.loadcustomer();\r\n      };\r\n      var onFinally = function() {\r\n        self.$vs.loading.close(self.$refs.quoteTable.$el);\r\n      };\r\n      self.$ajaxPost(\r\n        self,\r\n        \"SalesSeeker/UpdateCustomer\",\r\n        data,\r\n        onSuccess,\r\n        onFinally\r\n      );\r\n    },\r\n    toggleDataSidebar(val = false) {\r\n      this.addNewDataSidebar = val;\r\n    },\r\n    showLoadingOnElement(element, scale, type) {\r\n      var self = this;\r\n      self.$vs.loading({\r\n        type: type,\r\n        container: self.$refs[element].$el,\r\n        scale: scale\r\n      });\r\n    },\r\n\r\n    loadQuotation() {\r\n      const self = this;\r\n      self.showLoadingOnElement(\"quoteTable\", 1, \"radius\");\r\n\r\n      var onSuccess = function(response) {\r\n        self.quotations = response.data;\r\n      };\r\n      var onFinally = function() {\r\n        self.$vs.loading.close(self.$refs.quoteTable.$el);\r\n      };\r\n      self.$ajaxGet(\r\n        self,\r\n        \"SalesSeeker/Quotationlist?accountid=1&salesrepid=1\",\r\n        onSuccess,\r\n        onFinally\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Quotationlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Quotationlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Quotationlist.vue?vue&type=template&id=91483040&\"\nimport script from \"./Quotationlist.vue?vue&type=script&lang=js&\"\nexport * from \"./Quotationlist.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}