{"version":3,"sources":["webpack:///./src/views/ui-elements/FAMSUI/PBAnalytics.vue?1ca4","webpack:///src/views/ui-elements/FAMSUI/PBAnalytics.vue","webpack:///./src/views/ui-elements/FAMSUI/PBAnalytics.vue?eb43","webpack:///./src/views/ui-elements/FAMSUI/PBAnalytics.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","isListHidden","expression","ref","staticClass","attrs","itemsPerPage","PowerBiAPI","scopedSlots","_u","key","fn","data","_l","tr","indextr","on","$event","stopPropagation","PBISelected","pb","_v","_s","isInfoHiddenPB","url","powerType","model","callback","$$v","selected","slot","GetGrid","currentPage","length","isInfoHidden","mreport","resultInMinutes","cancelReportViewer","staticStyle","staticRenderFns","accesstoken","expiredate","PowerBiInfo","isMounted","mtoken","mid","components","flatPickr","computed","$refs","gridTable","currentx","mounted","methods","self","GetAccess_Token","embedConfiguration","reportContainer","document","getElementById","report","powerbi","embedNew","$vs","notify","title","text","color","showLoadingOnElement","loading","type","container","element","$el","scale","onSuccess","response","onFinally","close","$ajaxGet","localStorage","removeItem","access_token","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQT,EAAIU,aAAcC,WAAW,kBAAkBC,IAAI,YAAY,CAACR,EAAG,MAAM,CAACA,EAAG,WAAW,CAACQ,IAAI,YAAYC,YAAY,4BAA4BC,MAAM,CAAC,WAAa,GAAG,YAAYd,EAAIe,aAAa,OAAS,GAAG,KAAOf,EAAIgB,YAAYC,YAAYjB,EAAIkB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASR,GACjc,IAAIS,EAAOT,EAAIS,KACf,OAAOrB,EAAIsB,GAAG,GAAO,SAASC,EAAGC,GAAS,OAAOpB,EAAG,QAAQ,CAACe,IAAIK,EAAQV,MAAM,CAAC,KAAOS,IAAK,CAACnB,EAAG,QAAQ,CAACS,YAAY,sBAAsB,CAACT,EAAG,eAAe,CAACU,MAAM,CAAC,KAAO,UAAU,WAAa,6CAA6CW,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOC,kBAAyB3B,EAAI4B,YAAYL,QAAS,GAAGnB,EAAG,QAAQ,CAACU,MAAM,CAAC,KAAOS,EAAGM,GAAGL,GAASjB,OAAO,CAACP,EAAI8B,GAAG9B,EAAI+B,GAAGR,EAAGM,GAAGL,GAASjB,SAASH,EAAG,QAAQ,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQT,EAAIgC,eAAgBrB,WAAW,oBAAoBG,MAAM,CAAC,KAAOS,EAAGM,GAAGL,GAASS,MAAM,CAACjC,EAAI8B,GAAG9B,EAAI+B,GAAGR,EAAGM,GAAGL,GAASS,QAAQ7B,EAAG,QAAQ,CAACU,MAAM,CAAC,KAAOS,EAAGM,GAAGL,GAASU,YAAY,CAAClC,EAAI8B,GAAG9B,EAAI+B,GAAGR,EAAGM,GAAGL,GAASU,eAAe,UAASC,MAAM,CAAC1B,MAAOT,EAAY,SAAEoC,SAAS,SAAUC,GAAMrC,EAAIsC,SAASD,GAAK1B,WAAW,aAAa,CAACP,EAAG,MAAM,CAACS,YAAY,gDAAgDC,MAAM,CAAC,KAAO,UAAUyB,KAAK,UAAU,CAACnC,EAAG,YAAY,CAACU,MAAM,CAAC,MAAQ,UAAU,KAAO,WAAW,YAAY,UAAU,KAAO,oBAAoBW,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO1B,EAAIwC,aAAa,CAACxC,EAAI8B,GAAG,YAAY1B,EAAG,cAAc,CAACS,YAAY,sBAAsBC,MAAM,CAAC,mBAAmB,KAAK,CAACV,EAAG,MAAM,CAACS,YAAY,uIAAuI,CAACT,EAAG,OAAO,CAACS,YAAY,QAAQ,CAACb,EAAI8B,GAAG9B,EAAI+B,GAAG/B,EAAIyC,YAAczC,EAAIe,cAAgBf,EAAIe,aAAe,IAAI,MAAMf,EAAI+B,GAAG/B,EAAIgB,WAAW0B,OAAS1C,EAAIyC,YAAczC,EAAIe,aAAe,EAAIf,EAAIyC,YAAczC,EAAIe,aAAef,EAAIgB,WAAW0B,QAAQ,OAAO1C,EAAI+B,GAAG/B,EAAIgB,WAAW0B,WAAWtC,EAAG,eAAe,CAACU,MAAM,CAAC,KAAO,kBAAkB,WAAa,cAAc,GAAGV,EAAG,mBAAmB,CAACA,EAAG,mBAAmB,CAACqB,GAAG,CAAC,MAAQ,SAASC,GAAQ1B,EAAIe,aAAa,MAAM,CAACX,EAAG,OAAO,CAACJ,EAAI8B,GAAG,UAAU1B,EAAG,mBAAmB,CAACqB,GAAG,CAAC,MAAQ,SAASC,GAAQ1B,EAAIe,aAAa,MAAM,CAACX,EAAG,OAAO,CAACJ,EAAI8B,GAAG,UAAU1B,EAAG,mBAAmB,CAACqB,GAAG,CAAC,MAAQ,SAASC,GAAQ1B,EAAIe,aAAa,MAAM,CAACX,EAAG,OAAO,CAACJ,EAAI8B,GAAG,UAAU1B,EAAG,mBAAmB,CAACqB,GAAG,CAAC,MAAQ,SAASC,GAAQ1B,EAAIe,aAAa,OAAO,CAACX,EAAG,OAAO,CAACJ,EAAI8B,GAAG,YAAY,IAAI,IAAI,GAAG1B,EAAG,WAAW,CAACmC,KAAK,SAAS,CAACnC,EAAG,QAAQ,CAACJ,EAAI8B,GAAG,YAAY1B,EAAG,QAAQ,CAACU,MAAM,CAAC,WAAW,WAAW,CAACd,EAAI8B,GAAG,YAAY1B,EAAG,QAAQ,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQT,EAAIgC,eAAgBrB,WAAW,oBAAoBG,MAAM,CAAC,WAAW,YAAY,CAACd,EAAI8B,GAAG,aAAa1B,EAAG,QAAQ,CAACU,MAAM,CAAC,WAAW,cAAc,CAACd,EAAI8B,GAAG,gBAAgB,IAAI,IAAI,KAAK1B,EAAG,aAAaA,EAAG,MAAMA,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQT,EAAI2C,aAAchC,WAAW,kBAAkBC,IAAI,aAAaE,MAAM,CAAC,GAAK,sBAAsB,CAACV,EAAG,MAAM,CAACS,YAAY,UAAU,CAACT,EAAG,aAAaA,EAAG,MAAM,CAACS,YAAY,YAAY,GAAGT,EAAG,MAAM,CAACS,YAAY,oBAAoB,CAACT,EAAG,MAAM,CAACS,YAAY,iBAAiB,CAACT,EAAG,KAAK,CAACA,EAAG,OAAO,CAACJ,EAAI8B,GAAG9B,EAAI+B,GAAG/B,EAAI4C,cAAcxC,EAAG,aAAaA,EAAG,KAAK,CAACA,EAAG,OAAO,CAACJ,EAAI8B,GAAG9B,EAAI+B,GAAG,kBAAoB/B,EAAI6C,gBAAkB,iBAAiB,GAAGzC,EAAG,MAAM,CAACS,YAAY,iBAAiB,CAACT,EAAG,YAAY,CAACS,YAAY,OAAOC,MAAM,CAAC,MAAQ,UAAU,KAAO,UAAUW,GAAG,CAAC,MAAQzB,EAAI8C,qBAAqB,CAAC9C,EAAI8B,GAAG,YAAY,KAAK1B,EAAG,aAAa,CAACS,YAAY,cAAcT,EAAG,MAAM,CAACQ,IAAI,YAAYmC,YAAY,CAAC,OAAS,OAAO,MAAQ,QAAQjC,MAAM,CAAC,GAAK,gBAAgB,IAAI,IAAI,IACrzGkC,EAAkB,G,mECuHtB,G,oBAAA,CACE3B,KADF,WAEI,MAAO,CACLwB,gBAAN,EACMI,YAAN,GACMC,WAAN,GACMnC,aAAc,GACduB,SAAU,GACVtB,WAAY,GACZmC,YAAa,GACbC,WAAW,EACXC,OAAN,GACMC,IAAK,GACLV,QAAS,GACTlC,cAAc,EACdiC,cAAc,EACdX,gBAAgB,IAGpBuB,WAAY,CACVC,UAAJ,KAEEC,SAAU,CACRhB,YADJ,WAEM,OAAIxC,KAAKmD,UACAnD,KAAKyD,MAAMC,UAAUC,SAEvB,IAIXC,QA/BF,WAgCI5D,KAAKuC,UACLvC,KAAKmD,WAAY,GAEnBU,QAAS,CACPlC,YADJ,SACA,GAEM,IAAImC,EAAO9D,KACX8D,EAAKpB,cAAe,EACpBoB,EAAKrD,cAAe,EACpBqD,EAAKnB,QAAUrB,EAAGM,GAAG,GAAGtB,KACxBwD,EAAKC,kBACL,IAAIC,EAAqB,CACvB,KAAR,SACQ,YAAR,iBACQ,SAAR,YACQ,SAAR,aACQ,SAAR,CACU,mBAAV,EACU,uBAAV,EACU,WAAV,8BACU,aAAV,CACY,cAAZ,wCAKUC,EAAkBC,SAASC,eAAe,aACpD,8GACUC,EAASC,EAAQC,SAASL,EAAiBD,GAE/C,EAAN,cAEM,EAAN,wBACQ,QAAR,iBAGM,EAAN,iBAKID,gBAtCJ,WAuCM,IAAN,OACM,GAAN,4EACQ,IACE,IAAV,WACA,oCACA,0BACU,EAAV,kCACA,qBACY,EAAZ,qCACY,EAAZ,oCAEY,EAAZ,eAGA,SACU,EAAV,oBAIQ,EAAR,gBAIA,aA9DA,WA+DM,IAAN,OACM,EAAN,WACM,EAAN,qCACM,EAAN,mCACA,8CAEA,mBArEA,WAsEM,IAAN,OACM,EAAN,gBACA,mBAIA,cA5EA,WA6EM/D,KAAKuE,IAAIC,OAAO,CACdC,MAAO,eACPC,KAAM,8CACNC,MAAO,aAGf,aAnFA,WAoFM3E,KAAKuE,IAAIC,OAAO,CACdC,MAAO,kBACPC,KAAM,iBACNC,MAAO,YAIXC,qBA3FJ,SA2FA,OACM,IAAId,EAAO9D,KACX8D,EAAKS,IAAIM,QAAQ,CACfC,KAAMA,EACNC,UAAWjB,EAAKL,MAAMuB,GAASC,IAC/BC,MAAOA,KAOX3C,QAvGJ,WAwGM,IAAN,OACMuB,EAAKc,qBAAqB,YAAa,EAAG,UAC1C,IAAIO,EAAY,SAAtB,GACQrB,EAAK/C,WAAaqE,EAAShE,MAEzBiE,EAAY,WACdvB,EAAKS,IAAIM,QAAQS,MAAMxB,EAAKL,MAAMC,UAAUuB,MAE9CnB,EAAKyB,SACX,EACA,6BACA,EACA,IAII,SAxHJ,WAyHM,IAAN,OACUJ,EAAY,SAAtB,GACQ,EAAR,mBACQK,aAAaC,WAAW,cACxBD,aAAaC,WAAW,eACxBD,aAAaxC,YAAcoC,EAAShE,KAAKsE,aACzCF,aAAavC,WAAa,EAAlC,kBAEUoC,EAAY,aAEhBvB,EAAKyB,SACX,EACA,mCACA,EACA,OCpSmX,I,YCO/WI,EAAY,eACd,EACA7F,EACAiD,GACA,EACA,KACA,KACA,MAIa,aAAA4C,E","file":"js/chunk-2d0ab8fa.9a4c90fb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vx-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isListHidden),expression:\"!isListHidden\"}],ref:\"MainCard\"},[_c('div',[_c('vs-table',{ref:\"gridTable\",staticClass:\"vs-con-loading__container\",attrs:{\"pagination\":\"\",\"max-items\":_vm.itemsPerPage,\"search\":\"\",\"data\":_vm.PowerBiAPI},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _vm._l((data),function(tr,indextr){return _c('vs-tr',{key:indextr,attrs:{\"data\":tr}},[_c('vs-td',{staticClass:\"whitespace-no-wrap\"},[_c('feather-icon',{attrs:{\"icon\":\"EyeIcon\",\"svgClasses\":\"w-5 h-5 hover:text-primary stroke-current\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.PBISelected(tr)}}})],1),_c('vs-td',{attrs:{\"data\":tr.pb[indextr].name}},[_vm._v(_vm._s(tr.pb[indextr].name))]),_c('vs-td',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isInfoHiddenPB),expression:\"!isInfoHiddenPB\"}],attrs:{\"data\":tr.pb[indextr].url}},[_vm._v(_vm._s(tr.pb[indextr].url))]),_c('vs-td',{attrs:{\"data\":tr.pb[indextr].powerType}},[_vm._v(_vm._s(tr.pb[indextr].powerType))])],1)})}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},[_c('div',{staticClass:\"flex flex-wrap-reverse items-center flex-grow\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('vs-button',{attrs:{\"color\":\"warning\",\"type\":\"gradient\",\"icon-pack\":\"feather\",\"icon\":\"icon-refresh-ccw\"},on:{\"click\":function($event){return _vm.GetGrid()}}},[_vm._v(\"Reload\")]),_c('vs-dropdown',{staticClass:\"cursor-pointer mr-4\",attrs:{\"vs-trigger-click\":\"\"}},[_c('div',{staticClass:\"p-4 border border-solid border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm.currentPage * _vm.itemsPerPage - (_vm.itemsPerPage - 1))+\" - \"+_vm._s(_vm.PowerBiAPI.length - _vm.currentPage * _vm.itemsPerPage > 0 ? _vm.currentPage * _vm.itemsPerPage : _vm.PowerBiAPI.length)+\" of \"+_vm._s(_vm.PowerBiAPI.length))]),_c('feather-icon',{attrs:{\"icon\":\"ChevronDownIcon\",\"svgClasses\":\"h-4 w-4\"}})],1),_c('vs-dropdown-menu',[_c('vs-dropdown-item',{on:{\"click\":function($event){_vm.itemsPerPage=10}}},[_c('span',[_vm._v(\"10\")])]),_c('vs-dropdown-item',{on:{\"click\":function($event){_vm.itemsPerPage=20}}},[_c('span',[_vm._v(\"20\")])]),_c('vs-dropdown-item',{on:{\"click\":function($event){_vm.itemsPerPage=50}}},[_c('span',[_vm._v(\"50\")])]),_c('vs-dropdown-item',{on:{\"click\":function($event){_vm.itemsPerPage=100}}},[_c('span',[_vm._v(\"100\")])])],1)],1)],1),_c('template',{slot:\"thead\"},[_c('vs-th',[_vm._v(\"Action\")]),_c('vs-th',{attrs:{\"sort-key\":\"Report\"}},[_vm._v(\"Report\")]),_c('vs-th',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isInfoHiddenPB),expression:\"!isInfoHiddenPB\"}],attrs:{\"sort-key\":\"PowerBi\"}},[_vm._v(\"PowerBi\")]),_c('vs-th',{attrs:{\"sort-key\":\"PowerType\"}},[_vm._v(\"PowerType\")])],1)],2)],1)]),_c('vs-spacer'),_c('br'),_c('div',[_c('vx-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isInfoHidden),expression:\"!isInfoHidden\"}],ref:\"reportInfo\",attrs:{\"id\":\"reportPowerbiCard\"}},[_c('div',{staticClass:\"vx-row\"},[_c('vs-spacer'),_c('div',{staticClass:\"vx-col\"})],1),_c('div',{staticClass:\"vx-row px-4 pb-3\"},[_c('div',{staticClass:\"vx-col flex-1\"},[_c('h1',[_c('span',[_vm._v(_vm._s(_vm.mreport))])]),_c('vs-spacer'),_c('h3',[_c('span',[_vm._v(_vm._s(\"(Token valid - \" + _vm.resultInMinutes + \" mins!)\"))])])],1),_c('div',{staticClass:\"vx-col flex-2\"},[_c('vs-button',{staticClass:\"mb-2\",attrs:{\"color\":\"warning\",\"type\":\"border\"},on:{\"click\":_vm.cancelReportViewer}},[_vm._v(\"Close\")])],1)]),_c('vs-divider',{staticClass:\"mb-6 pt-0\"}),_c('div',{ref:\"container\",staticStyle:{\"height\":\"78vh\",\"width\":\"82vw\"},attrs:{\"id\":\"container\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- =========================================================================================\r\n    File Name: LoadingDefault.vue\r\n    Description: Add default loading to your application\r\n    ----------------------------------------------------------------------------------------\r\n    Item Name: Vuexy - Vuejs, HTML & Laravel Admin Dashboard Template\r\n      Author: Pixinvent\r\n    Author URL: http://www.themeforest.net/user/pixinvent\r\n    CRUD_Account_Get CRUD_Account_Get\r\n    https://localhost:44341/api/FAMS/SP_JsonResult?storeproc=CRUD_Account_Get&parameters=1\r\n========================================================================================== -->\r\n\r\n\r\n<template>\r\n  <div>\r\n    <vx-card ref=\"MainCard\" v-show=\"!isListHidden\">\r\n      <div>\r\n        <vs-table\r\n          ref=\"gridTable\"\r\n          v-model=\"selected\"\r\n          pagination\r\n          :max-items=\"itemsPerPage\"\r\n          search\r\n          :data=\"PowerBiAPI\"\r\n          class=\"vs-con-loading__container\"\r\n        >\r\n          <div slot=\"header\" class=\"flex flex-wrap-reverse items-center flex-grow\">\r\n            <!-- ADD NEW -->\r\n            <vs-button color=\"warning\" type=\"gradient\" @click=\"GetGrid()\" icon-pack=\"feather\" icon=\"icon-refresh-ccw\">Reload</vs-button>\r\n            <!-- ITEMS PER PAGE -->\r\n            <vs-dropdown vs-trigger-click class=\"cursor-pointer mr-4\">\r\n              <div\r\n                class=\"p-4 border border-solid border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium\"\r\n              >\r\n                <span\r\n                  class=\"mr-2\"\r\n                >{{ currentPage * itemsPerPage - (itemsPerPage - 1) }} - {{ PowerBiAPI.length - currentPage * itemsPerPage > 0 ? currentPage * itemsPerPage : PowerBiAPI.length }} of {{ PowerBiAPI.length }}</span>\r\n                <feather-icon icon=\"ChevronDownIcon\" svgClasses=\"h-4 w-4\" />\r\n              </div>\r\n              <!-- <vs-button class=\"btn-drop\" type=\"line\" color=\"primary\" icon-pack=\"feather\" icon=\"icon-chevron-down\"></vs-button> -->\r\n              <vs-dropdown-menu>\r\n                <vs-dropdown-item @click=\"itemsPerPage=10\">\r\n                  <span>10</span>\r\n                </vs-dropdown-item>\r\n                <vs-dropdown-item @click=\"itemsPerPage=20\">\r\n                  <span>20</span>\r\n                </vs-dropdown-item>\r\n                <vs-dropdown-item @click=\"itemsPerPage=50\">\r\n                  <span>50</span>\r\n                </vs-dropdown-item>\r\n                <vs-dropdown-item @click=\"itemsPerPage=100\">\r\n                  <span>100</span>\r\n                </vs-dropdown-item>\r\n              </vs-dropdown-menu>\r\n            </vs-dropdown>\r\n          </div>\r\n          <template slot=\"thead\">\r\n             <vs-th>Action</vs-th>\r\n            <vs-th sort-key=\"Report\">Report</vs-th>\r\n            <!-- <vs-th sort-key=\"webUrl\">webUrl</vs-th>  -->\r\n             <vs-th sort-key=\"PowerBi\" v-show=\"!isInfoHiddenPB\">PowerBi</vs-th>       \r\n             <vs-th sort-key=\"PowerType\">PowerType</vs-th>                        \r\n          </template>\r\n          <!-- visible: false -->\r\n          <template slot-scope=\"{data}\">\r\n\r\n            <vs-tr :data=\"tr\" :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                <vs-td class=\"whitespace-no-wrap\">\r\n                <feather-icon\r\n                  icon=\"EyeIcon\"\r\n                  svgClasses=\"w-5 h-5 hover:text-primary stroke-current\"\r\n                  @click.stop=\"PBISelected(tr)\"\r\n                />\r\n               \r\n              </vs-td>\r\n              <vs-td :data=\"tr.pb[indextr].name\"  >{{tr.pb[indextr].name}}</vs-td>\r\n              <!-- <vs-td :data=\"tr.webUrl\">{{tr.webUrl}}</vs-td> -->\r\n              <vs-td :data=\"tr.pb[indextr].url\" v-show=\"!isInfoHiddenPB\">{{tr.pb[indextr].url}}</vs-td>\r\n              <vs-td :data=\"tr.pb[indextr].powerType\"  >{{tr.pb[indextr].powerType}}</vs-td>\r\n\r\n            </vs-tr>\r\n          </template>\r\n        </vs-table>\r\n      </div>\r\n    </vx-card>\r\n    <vs-spacer></vs-spacer>\r\n    <br>\r\n      <div>\r\n      <vx-card id=\"reportPowerbiCard\"  ref=\"reportInfo\" v-show=\"!isInfoHidden\">\r\n        <!-- Creating a div tag which will act as a container for boldReportViewer widget.-->\r\n        <div class=\"vx-row\">\r\n          <vs-spacer></vs-spacer>\r\n          <div class=\"vx-col\">\r\n            \r\n          </div>\r\n        </div>\r\n        <div class=\"vx-row px-4 pb-3\">\r\n           <div class=\"vx-col flex-1\">\r\n              <h1><span>{{mreport}}</span></h1>\r\n              <vs-spacer></vs-spacer>\r\n              <h3><span>{{\"(Token valid - \" + resultInMinutes + \" mins!)\"}}</span></h3>\r\n          </div>\r\n          <div class=\"vx-col flex-2\">\r\n           <vs-button color=\"warning\" type=\"border\" class=\"mb-2\"  @click=\"cancelReportViewer\">Close</vs-button>\r\n          </div>\r\n        </div>\r\n        <vs-divider class=\"mb-6 pt-0\"></vs-divider>\r\n        <div style=\"height:78vh; width:82vw\" id=\"container\" ref=\"container\"></div> \r\n\r\n      </vx-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport flatPickr from \"vue-flatpickr-component\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport * as pbi from \"powerbi-client\";\r\nimport { debug } from 'util';\r\nimport moment from \"moment\";\r\n// import VueSession from 'vue-session';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      resultInMinutes : 0,\r\n      accesstoken:\"\",\r\n      expiredate : \"\",\r\n      itemsPerPage: 10,\r\n      selected: [],\r\n      PowerBiAPI: [],\r\n      PowerBiInfo: [],\r\n      isMounted: false,\r\n      mtoken : \"\",\r\n      mid: \"\",\r\n      mreport: \"\",\r\n      isListHidden: false,   \r\n      isInfoHidden: true,\r\n      isInfoHiddenPB: true,\r\n    };\r\n  },\r\n  components: {\r\n    flatPickr\r\n  },\r\n  computed: {\r\n    currentPage() {\r\n      if (this.isMounted) {\r\n        return this.$refs.gridTable.currentx;\r\n      }\r\n      return 0;\r\n    }\r\n  },\r\n  \r\n  mounted() {\r\n    this.GetGrid();\r\n    this.isMounted = true;\r\n  },\r\n  methods: {\r\n    PBISelected(tr) {\r\n      debugger\r\n      var self = this;\r\n      self.isInfoHidden = false;\r\n      self.isListHidden = true;\r\n      self.mreport = tr.pb[0].name;\r\n      self.GetAccess_Token();\r\n      var embedConfiguration = {\r\n          type: 'report',\r\n          accessToken: this.accesstoken,\r\n          embedUrl: tr.pb[0].url,\r\n          pageView: 'fitToWidth', \r\n           settings: {\r\n                filterPaneEnabled: false,\r\n                navContentPaneEnabled: true,\r\n                layoutType: pbi.models.LayoutType.Custom,    \r\n                customLayout: {\r\n                  displayOption: pbi.models.DisplayOption.ActualSize\r\n                }\r\n            }\r\n      }; \r\n     \r\n      var reportContainer = document.getElementById('container');\r\n      let powerbi = new pbi.service.Service(pbi.factories.hpmFactory, pbi.factories.wpmpFactory, pbi.factories.routerFactory);\r\n      var report = powerbi.embedNew(reportContainer, embedConfiguration);\r\n\r\n       report.off(\"loaded\");\r\n          // Report.on will add an event handler which prints to Log window.\r\n          report.on(\"loaded\", function () {\r\n            console.log(\"Loaded\");\r\n          });\r\n          // Report.off removes a given event handler if it exists.\r\n        report.off(\"rendered\"); \r\n      //report.fullscreen();  \r\n    },\r\n\r\n\r\n    GetAccess_Token() {\r\n       const self = this;\r\n       if ((localStorage.accesstoken != \"undefined\") && (localStorage.expiredate != \"undefined\")) {\r\n            try {\r\n                  var startTime = new Date(); \r\n                  var endTime = new Date(localStorage.expiredate);\r\n                  var difference = endTime.getTime() - startTime.getTime(); // This will give difference in milliseconds\r\n                  self.resultInMinutes = Math.round(difference / 60000);\r\n                  if (self.resultInMinutes > 0) {\r\n                          self.accesstoken = localStorage.accesstoken;\r\n                          self.expiredate = localStorage.expiredate;\r\n                  } else {\r\n                         self.refreshToken();\r\n                  }\r\n                   \r\n              } catch (e) {\r\n                 self.refreshToken();\r\n              }\r\n        }\r\n        else {\r\n         self.refreshToken();\r\n        }\r\n    },\r\n\r\n   refreshToken() {\r\n          const self = this;\r\n          self.GetToken();\r\n          self.accesstoken = localStorage.accesstoken;\r\n          self.expiredate = localStorage.expiredate;\r\n           if(self.resultInMinutes <= 0) self.resultInMinutes = 59;\r\n   },\r\n   cancelReportViewer() {\r\n        var self = this;\r\n        self.isListHidden = false,\r\n        self.isInfoHidden = true;\r\n        //self.GetGrid();\r\n      },\r\n    \r\n   successNotify() {\r\n      this.$vs.notify({\r\n        title: 'Successfully',\r\n        text: 'Item successfully added | updated | removed',\r\n        color: 'success'\r\n      })\r\n    },\r\n  FailedNotify() {\r\n      this.$vs.notify({\r\n        title: 'Not Successfull',\r\n        text: 'Item not added',\r\n        color: 'danger'\r\n      })\r\n    },\r\n\r\n    showLoadingOnElement(element, scale, type) {\r\n      var self = this;\r\n      self.$vs.loading({\r\n        type: type,\r\n        container: self.$refs[element].$el,\r\n        scale: scale\r\n      });\r\n    },\r\n  \r\n\r\n    //********************* SQL events */\r\n  \r\n    GetGrid() {\r\n      const self = this;\r\n      self.showLoadingOnElement(\"gridTable\", 1, \"radius\");\r\n      var onSuccess = function(response) {\r\n        self.PowerBiAPI = response.data;\r\n      };\r\n      var onFinally = function() {\r\n        self.$vs.loading.close(self.$refs.gridTable.$el);\r\n      };\r\n      self.$ajaxGet(\r\n        self,\r\n         \"PowerBiAPI/12?username=csd\",\r\n        onSuccess,\r\n        onFinally\r\n      );\r\n    },\r\n\r\n     GetToken() {     \r\n      const self = this;\r\n      var onSuccess = function(response) {\r\n         self.resultInMinutes = 59;\r\n        localStorage.removeItem('expiredate');\r\n        localStorage.removeItem('accesstoken');\r\n        localStorage.accesstoken = response.data.access_token;\r\n        localStorage.expiredate =  response.data.expire_Date;\r\n      };\r\n      var onFinally = function() {\r\n      };\r\n      self.$ajaxGet(\r\n        self,\r\n         \"PowerBiAPI/GetPowerbiAccessToken\",\r\n        onSuccess,\r\n        onFinally\r\n      );\r\n    },\r\n   \r\n  }\r\n};\r\n\r\n\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PBAnalytics.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PBAnalytics.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PBAnalytics.vue?vue&type=template&id=2714d394&\"\nimport script from \"./PBAnalytics.vue?vue&type=script&lang=js&\"\nexport * from \"./PBAnalytics.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}