(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3db0bdd7"],{"0952":function(t,e,a){},9527:function(t,e,a){},a657:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("allocation-sidebar",{attrs:{isSidebarActive:t.allocationSidebar,data:t.sidebarData},on:{closeSidebar:t.toggleDataSidebar,update:t.updateGrid,add:t.addGrid}}),a("vx-card",{ref:"MainCard"},[a("div",[a("vs-table",{ref:"gridTable",staticClass:"vs-con-loading__container",attrs:{pagination:"","max-items":t.itemsPerPage,search:"",data:t.allocations},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.data;return t._l(o,(function(e,o){return a("vs-tr",{key:o,attrs:{data:e}},[a("vs-td",{attrs:{data:e.allocation}},[t._v(t._s(e.allocation))]),a("vs-td",{attrs:{data:e.description}},[t._v(t._s(e.description))]),a("vs-td",{attrs:{data:e.allocationGroupName}},[t._v(t._s(e.allocationGroupName))]),a("vs-td",{staticClass:"whitespace-no-wrap"},[a("feather-icon",{attrs:{icon:"EditIcon",svgClasses:"w-5 h-5 hover:text-primary stroke-current"},on:{click:function(a){return a.stopPropagation(),t.editDataSidebar(e)}}}),a("feather-icon",{staticClass:"ml-2",attrs:{icon:"TrashIcon",svgClasses:"w-5 h-5 hover:text-danger stroke-current"},on:{click:function(a){return a.stopPropagation(),t.deleteGrid(e)}}})],1),a("template",{staticClass:"expand-user",slot:"expand"},[a("div",{staticClass:"con-expand-users w-full"},[a("div",[a("vs-table",{ref:"gridTable2",refInFor:!0,attrs:{data:e.perStore},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.data;return t._l(o,(function(e,o){return a("vs-tr",{key:o,attrs:{data:e}},[a("vs-td",{staticClass:"whitespace-no-wrap"},[a("feather-icon",{staticClass:"ml-2",attrs:{icon:"TrashIcon",svgClasses:"w-5 h-5 hover:text-danger stroke-current"},on:{click:function(a){return a.stopPropagation(),t.deletePerStoreAllocation(e)}}})],1),a("vs-td",{attrs:{data:e.storeName}},[t._v(t._s(e.storeName))])],1)}))}}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("template",{slot:"thead"},[a("vs-th",[t._v("Remove")]),a("vs-th",[t._v("Store")])],1)],2)],1)])])],2)}))}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow",attrs:{slot:"header"},slot:"header"},[a("vs-button",{attrs:{color:"warning",type:"gradient","icon-pack":"feather",icon:"icon-refresh-ccw"},on:{click:function(e){return t.GetGrid()}}},[t._v("Reload")]),a("vs-button",{attrs:{color:"success",type:"gradient","icon-pack":"feather",icon:"icon-plus-square"},on:{click:t.addDataSidebar}},[t._v("Add New")]),a("vs-dropdown",{staticClass:"cursor-pointer mr-4",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-4 border border-solid border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[a("span",{staticClass:"mr-2"},[t._v(t._s(t.currentPage*t.itemsPerPage-(t.itemsPerPage-1))+" - "+t._s(t.allocations.length-t.currentPage*t.itemsPerPage>0?t.currentPage*t.itemsPerPage:t.allocations.length)+" of "+t._s(t.allocations.length))]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=10}}},[a("span",[t._v("10")])]),a("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=20}}},[a("span",[t._v("20")])]),a("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=50}}},[a("span",[t._v("50")])]),a("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=100}}},[a("span",[t._v("100")])])],1)],1)],1),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"Allocation"}},[t._v("Allocation")]),a("vs-th",{attrs:{"sort-key":"Description"}},[t._v("Description")]),a("vs-th",{attrs:{"sort-key":"Group"}},[t._v("Group")]),a("vs-th",[t._v("Action")])],1)],2)],1)])],1)},i=[],s=(a("bc3a"),a("c38f")),n=a.n(s),r=(a("0952"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-sidebar",{staticClass:"add-new-data-sidebar items-no-padding",attrs:{"click-not-close":"","position-right":"",parent:"body","default-index":"1",color:"primary",spacer:""},model:{value:t.isSidebarActiveLocal,callback:function(e){t.isSidebarActiveLocal=e},expression:"isSidebarActiveLocal"}},[a("div",{staticClass:"mt-6 flex items-center justify-between px-6"},[a("h4",[t._v(t._s(0===Object.entries(this.data).length?"ADD NEW":"UPDATE")+" ITEM")]),a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(e){e.stopPropagation(),t.isSidebarActiveLocal=!1}}})],1),a("vs-divider",{staticClass:"mb-0"}),a(t.scrollbarTag,{key:t.$vs.rtl,tag:"component",staticClass:"scroll-area--data-list-add-new",attrs:{settings:t.settings}},[a("div",[a("div",{staticClass:"vx-row px-4 pt-2 pb-3"},[a("div",{staticClass:"vx-col flex-1"},[a("label",[t._v("Group")]),a("v-select",{attrs:{options:t.dropdownValue,placeholder:"Search / Select Group"},on:{"search:blur":t.populateData},model:{value:t.dropdownSelect,callback:function(e){t.dropdownSelect=e},expression:"dropdownSelect"}})],1)]),a("div",{staticClass:"vx-row px-4 pb-3"},[a("div",{staticClass:"vx-col flex-4"},[a("label",[t._v("Allocation Code (To be displayed on FAMS Screen)")]),a("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-phone",placeholder:"Allocation Name",name:"Description"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("div",{staticClass:"vx-col flex-4"},[a("label",[t._v("Allocation Active (Enable / Disable)")]),a("vs-switch",{model:{value:t.formData.enable,callback:function(e){t.$set(t.formData,"enable",e)},expression:"formData.enable"}})],1)]),a("div",{staticClass:"vx-row px-4 pb-3"},[a("div",{staticClass:"vx-col flex-1"},[a("label",[t._v("Allocation Description")]),a("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-phone",placeholder:"Allocation Description",name:"Description"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1)])]),a("label",{directives:[{name:"show",rawName:"v-show",value:!t.isListHidden,expression:"!isListHidden"}]},[t._v("Assigned to store")]),a("vx-card",{directives:[{name:"show",rawName:"v-show",value:!t.isListHidden,expression:"!isListHidden"}],staticClass:"mt-base",attrs:{"no-shadow":"","card-border":""}},[a("div",{staticClass:"vx-row px-4 pb-3"},[a("table",{staticClass:"w-full"},[a("tr",t._l(["Store","Nr on screen/ To be Entered/ scan","Select"],(function(e){return a("th",{key:e,staticClass:"font-semibold text-base text-left px-3 py-2"},[t._v(t._s(e))])})),0),t._l(t.storedropdownValue,(function(e,o){return a("tr",{key:o},[a("td",{staticClass:"px-3 py-2"},[t._v(t._s(e.label))]),a("td",[a("vs-input-number",{staticClass:"px-3 py-2",attrs:{value:1,min:"1",max:"54",size:"small",inputtable:"false"},model:{value:t.nr[o],callback:function(e){t.$set(t.nr,o,e)},expression:"nr[indextr]"}})],1),a("td",[a("vs-checkbox",{on:{change:function(a){return t.Allocationselected(o,e,t.nr[o])}},model:{value:e[o],callback:function(a){t.$set(e,o,a)},expression:"store[indextr]"}})],1)])}))],2)])])],1),a("div",{staticClass:"flex flex-wrap items-center p-6",attrs:{slot:"footer"},slot:"footer"},[a("vs-button",{attrs:{color:"success",type:"gradient","icon-pack":"feather",icon:"icon-check"},on:{click:t.submitData}},[t._v("Submit")]),a("vs-button",{attrs:{color:"danger",type:"gradient","icon-pack":"feather",icon:"icon-x-square"},on:{click:t.cancelData}},[t._v("Cancel")])],1)],1)}),l=[],c=(a("7f7f"),a("ac6a"),a("ffc1"),a("9d63")),d=a.n(c),u=a("4a7a"),p=a.n(u),f={props:{isSidebarActive:{type:Boolean,required:!0},data:{type:Object,default:function(){}}},components:{VuePerfectScrollbar:d.a,"v-select":p.a},mounted:function(){this.LoadAllocationGroup(),this.LoadStoreDropdown()},data:function(){return{nr:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],store:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],checked:!1,isListHidden:!1,isInfoHidden:!0,perAllocationStore:[],dropdownValue:[],dropdownSelect:[],storedropdownValue:[],storedropdownValue2:[],requireStore:0,formData:{id:0,accountId:0,name:"None",enable:!0,description:"None",allocationTypeId:0,allocationGroupName:"None",perStore:[]},settings:{maxScrollbarLength:60,wheelSpeed:.6}}},watch:{isSidebarActive:function(t){t&&(0===Object.entries(this.data).length?(this.initValues(),this.$validator.reset()):(this.formData.id=this.data.id,this.formData.accountId=12,this.formData.name=this.data.allocation,this.formData.description=this.data.description,this.formData.groupId=this.data.allocationTypeId,this.formData.allocationTypeId=this.data.allocationTypeId,this.formData.enable=this.data.enable,this.formData.perStore=this.data.perStore,this.dropdownSelect=this.data.allocationGroupName,this.isListHidden=!0))}},computed:{isSidebarActiveLocal:{get:function(){return this.isSidebarActive},set:function(t){t||this.$emit("closeSidebar")}},isFormValid:function(){return!this.errors.any()},scrollbarTag:function(){return this.$store.getters.scrollbarTag}},methods:{Allocationselected:function(t,e,a){var o=this,i={Id:0,AllocationId:0,storeId:e.value,download:1,nr:a};if(e[t])o.perAllocationStore.push(i);else{var s=o.perAllocationStore.map((function(t){return t.AllocationId})).indexOf(e.value);o.perAllocationStore.splice(s,1)}},populateData:function(){var t=this;t.dropdownSelect&&(t.formData.allocationTypeId=t.dropdownSelect.value,t.formData.allocationType=t.dropdownSelect.label)},LoadAllocationGroup:function(){var t=this,e=function(e){t.dropdownValue=e.data.map((function(t){return{label:t.name,value:t.id}}))},a=function(){};t.$ajaxGet(t,"AllocationTypes/GetAllocationTypedropdown",e,a)},LoadStoreDropdown:function(){var t=this,e=function(e){t.storedropdownValue2=e.data,t.storedropdownValue=e.data.map((function(t){return{label:t.name,value:t.id}}))},a=function(){};t.$ajaxGet(t,"Stores/GetStoredropdown?AccountId=12",e,a)},initValues:function(){this.data.id||(this.perAllocationStore=[],this.nr=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],this.store=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],this.checked=!1,this.formData.id=0,this.formData.name="",this.formData.description="",this.formData.allocationTypeId=0,this.formData.allocationType="",this.formData.enable=!0,this.dropdownSelect=0,this.isListHidden=!1)},showLoadingOnElement:function(t,e,a){var o=this;o.$vs.loading({type:a,container:o.$refs[t].$el,scale:e})},cancelData:function(){var t=this;t.initValues(),t.isSidebarActiveLocal=!1},submitData:function(){var t=this,e={id:this.formData.id,accountId:12,name:t.formData.name,description:t.formData.description,allocationTypeId:t.formData.allocationTypeId,enable:t.formData.enable,perAllocationStore:t.perAllocationStore};null!==t.formData.id&&0!=t.formData.id?(e.perAllocationStore="",t.$emit("update",e)):t.$emit("add",e),this.$emit("closeSidebar"),this.initValues()}}},v=f,h=(a("f50a"),a("2877")),m=Object(h["a"])(v,r,l,!1,null,"5cf8950a",null),b=m.exports,g={data:function(){return{itemsPerPage:10,allocationSidebar:!1,selected:[],allocations:[],sidebarData:{},isMounted:!1}},components:{flatPickr:n.a,allocationSidebar:b},computed:{currentPage:function(){return this.isMounted?this.$refs.gridTable.currentx:0}},mounted:function(){this.GetGrid(),this.isMounted=!0},methods:{successNotify:function(){this.$vs.notify({title:"Successfully",text:"Item successfully added | updated | removed",color:"success"})},FailedNotify:function(){this.$vs.notify({title:"Not Successfull",text:"Item not added",color:"danger"})},showLoadingOnElement:function(t,e,a){var o=this;o.$vs.loading({type:a,container:o.$refs[t].$el,scale:e})},addDataSidebar:function(){this.sidebarData={},this.toggleDataSidebar(!0)},editDataSidebar:function(t){t.accountId=12,this.sidebarData=t,this.toggleDataSidebar(!0)},addGrid:function(t){var e=this;t.accountId=12,e.showLoadingOnElement("gridTable",1,"radius");var a=function(t){e.GetGrid()},o=function(){e.$vs.loading.close(e.$refs.gridTable.$el),e.successNotify()};e.$ajaxPost(e,"Allocations",t,a,o)},updateGrid:function(t){var e=this;e.showLoadingOnElement("gridTable",1,"radius");var a=function(t){e.GetGrid()},o=function(){e.$vs.loading.close(e.$refs.gridTable.$el),e.successNotify()};e.$ajaxPut(e,"Allocations/"+t.id,t,a,o)},deletePerStoreAllocation:function(t){var e=this;e.showLoadingOnElement("gridTable",1,"radius");var a=function(t){e.GetGrid()},o=function(){e.$vs.loading.close(e.$refs.gridTable.$el),e.successNotify()};e.$ajaxDelete(e,"PerAllocationStores/"+t.perstoreID+"?AccountId=12",a,o)},deleteGrid:function(t){var e=this;e.showLoadingOnElement("gridTable",1,"radius");var a=function(t){e.GetGrid()},o=function(){e.$vs.loading.close(e.$refs.gridTable.$el),e.successNotify()};e.$ajaxDelete(e,"Allocations/"+t.id+"?AccountId="+t.accountId,a,o)},GetGrid:function(){var t=this;t.showLoadingOnElement("gridTable",1,"radius");var e=function(e){t.allocations=e.data},a=function(){t.$vs.loading.close(t.$refs.gridTable.$el)};t.$ajaxGet(t,"Allocations/12",e,a)},toggleDataSidebar:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.allocationSidebar=t}}},w=g,x=Object(h["a"])(w,o,i,!1,null,null,null);e["default"]=x.exports},f50a:function(t,e,a){"use strict";var o=a("9527"),i=a.n(o);i.a}}]);
//# sourceMappingURL=chunk-3db0bdd7.74053c8e.js.map