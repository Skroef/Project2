(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8833b89a"],{"0952":function(t,e,a){},"2fa2":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("menu-sidebar",{attrs:{isSidebarActive:t.menuSidebar,data:t.sidebarData},on:{closeSidebar:t.toggleDataSidebar,update:t.update,add:t.add}}),a("vx-card",{ref:"MainCard"},[a("div",[a("vs-table",{ref:"gridTable",staticClass:"vs-con-loading__container",attrs:{pagination:"","max-items":t.itemsPerPage,search:"",data:t.document},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return t._l(i,(function(e,i){return a("vs-tr",{key:i,attrs:{data:e}},[a("vs-td",{attrs:{data:e.docName}},[t._v(t._s(e.docName))]),a("vs-td",{attrs:{data:e.revision}},[t._v(t._s(e.revision))]),a("vs-td",{attrs:{data:e.documentNr}},[t._v(t._s(e.documentNr))]),a("vs-td",{staticClass:"whitespace-no-wrap"},[a("feather-icon",{attrs:{icon:"EyeIcon",svgClasses:"w-5 h-5 hover:text-primary stroke-current"},on:{click:function(a){return a.stopPropagation(),t.showStatusPrompt(e)}}}),a("feather-icon",{staticClass:"ml-2",attrs:{icon:"EditIcon",svgClasses:"w-5 h-5 hover:text-primary stroke-current"},on:{click:function(a){return a.stopPropagation(),t.editData(e)}}}),a("feather-icon",{staticClass:"ml-2",attrs:{icon:"TrashIcon",svgClasses:"w-5 h-5 hover:text-danger stroke-current"},on:{click:function(a){return a.stopPropagation(),t.deleteData(e)}}})],1)],1)}))}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("div",{staticClass:"flex flex-wrap-reverse items-center flex-grow",attrs:{slot:"header"},slot:"header"},[a("div",{ref:"addNew",staticClass:"p-3 mr-4 rounded-lg cursor-pointer flex items-center justify-between text-lg font-medium text-base text-primary border border-solid border-primary",on:{click:t.addNewData}},[a("feather-icon",{attrs:{icon:"PlusIcon",svgClasses:"h-4 w-4"}}),a("span",{staticClass:"ml-2 text-base text-primary"},[t._v("Add New")])],1),a("div",{ref:"Refresh",staticClass:"p-3 mr-4 rounded-lg cursor-pointer flex items-center justify-between text-lg font-medium text-base text-primary border border-solid border-primary",on:{click:t.ReloadData}},[a("feather-icon",{attrs:{icon:"refresh",svgClasses:"h-4 w-4"}}),a("span",{staticClass:"ml-2 text-base text-primary"},[t._v("Refresh")])],1),a("vs-dropdown",{staticClass:"cursor-pointer mr-4",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-4 border border-solid border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[a("span",{staticClass:"mr-2"},[t._v(t._s(t.currentPage*t.itemsPerPage-(t.itemsPerPage-1))+" - "+t._s(t.document.length-t.currentPage*t.itemsPerPage>0?t.currentPage*t.itemsPerPage:t.document.length)+" of "+t._s(t.document.length))]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=10}}},[a("span",[t._v("10")])]),a("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=20}}},[a("span",[t._v("20")])]),a("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=50}}},[a("span",[t._v("50")])]),a("vs-dropdown-item",{on:{click:function(e){t.itemsPerPage=100}}},[a("span",[t._v("100")])])],1)],1)],1),a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"docName"}},[t._v("Document Name")]),a("vs-th",{attrs:{"sort-key":"revision"}},[t._v("Revision")]),a("vs-th",{attrs:{"sort-key":"documentNr"}},[t._v("Control Number")]),a("vs-th",[t._v("Action")])],1)],2)],1),a("div",[a("vs-prompt",{ref:"statusPrompt",attrs:{title:"Viewer",acceptText:"Close",active:t.statusPromptActive},on:{"update:active":function(e){t.statusPromptActive=e}}},[a("div",[a("iframe",{attrs:{src:t.myData,frameborder:"0"}})])])],1)])],1)},s=[],r=(a("bc3a"),a("c38f")),n=a.n(r),o=(a("0952"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-sidebar",{staticClass:"add-new-data-sidebar items-no-padding",attrs:{"click-not-close":"","position-right":"",parent:"body","default-index":"1",color:"primary",spacer:""},model:{value:t.isSidebarActiveLocal,callback:function(e){t.isSidebarActiveLocal=e},expression:"isSidebarActiveLocal"}},[a("div",{staticClass:"mt-6 flex items-center justify-between px-6"},[a("h4",[t._v(t._s(0===Object.entries(this.data).length?"ADD NEW":"UPDATE")+" ITEM")]),a("feather-icon",{staticClass:"cursor-pointer",attrs:{icon:"XIcon"},on:{click:function(e){e.stopPropagation(),t.isSidebarActiveLocal=!1}}})],1),a("vs-divider",{staticClass:"mb-0"}),a(t.scrollbarTag,{key:t.$vs.rtl,tag:"component",staticClass:"scroll-area--data-list-add-new",attrs:{settings:t.settings}},[a("div",[a("div",{staticClass:"vx-row px-4 pt-2 pb-3"},[a("div",{staticClass:"vx-col flex-1"},[a("label",[t._v("Document Name")]),a("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-user",placeholder:"Document Name",name:"Site Name"},model:{value:t.docName,callback:function(e){t.docName=e},expression:"docName"}})],1)]),a("div",{staticClass:"vx-row px-4 pb-3"},[a("div",{staticClass:"vx-col flex-1"},[a("label",[t._v("Revision")]),a("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-phone",placeholder:"Revision",name:"Contact Phone"},model:{value:t.revision,callback:function(e){t.revision=e},expression:"revision"}})],1),a("div",{staticClass:"vx-col flex-1"},[a("label",[t._v("Document Number")]),a("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-user",placeholder:"Document Number",name:"Contact Name"},model:{value:t.docNumber,callback:function(e){t.docNumber=e},expression:"docNumber"}})],1)]),a("div",{staticClass:"vx-row px-4 pb-3"},[a("div",{staticClass:"vx-col flex-1"},[a("label",{staticClass:"text-reader"},[a("input",{attrs:{type:"file"},on:{change:t.loadTextFromFile}})])])]),a("div",{staticClass:"vx-row px-4 pb-3"},[a("iframe",{attrs:{src:t.myData,width:"680",height:"500",frameborder:"0"}})])])]),a("div",{staticClass:"flex flex-wrap items-center p-6",attrs:{slot:"footer"},slot:"footer"},[a("vs-button",{staticClass:"mr-6",on:{click:t.submitData}},[t._v("Submit")]),a("vs-button",{attrs:{type:"border",color:"danger"},on:{click:function(e){t.isSidebarActiveLocal=!1}}},[t._v("Cancel")])],1)],1)}),c=[],d=(a("34ef"),a("ac6a"),a("ffc1"),a("9d63")),l=a.n(d),u={props:{isSidebarActive:{type:Boolean,required:!0},data:{type:Object,default:function(){}}},components:{VuePerfectScrollbar:l.a},mounted:function(){this.loaddocument()},data:function(){return{myData:null,documentID:0,accountID:0,docName:"",revision:"",docNumber:"",myFile:null,settings:{maxScrollbarLength:60,wheelSpeed:.6}}},watch:{isSidebarActive:function(t){t&&(0===Object.entries(this.data).length?(this.initValues(),this.$validator.reset()):(this.documentID=this.data.id,this.accountID=this.data.accountID,this.docName=this.data.docName,this.myFile="",this.revision=this.data.revision,this.docNumber=this.data.documentNr,this.myData="data:application/pdf;base64,"+this.data.myFile,this.initValues()))}},computed:{isSidebarActiveLocal:{get:function(){return this.isSidebarActive},set:function(t){t||this.$emit("closeSidebar")}},isFormValid:function(){return!this.errors.any()},scrollbarTag:function(){return this.$store.getters.scrollbarTag}},methods:{loadTextFromFile:function(t){var e=this,a=this,i=t.target.files[0],s=new FileReader,r="",n="";s.readAsArrayBuffer(i),s.onload=function(t){r=new Uint8Array(t.target.result);for(var i=r.byteLength,s=0;s<i;s++)n+=String.fromCharCode(r[s]);a.myFile=btoa(n),e.myData="data:application/pdf;base64,"+a.myFile}},initValues:function(){this.data.id||(this.documentID=0,this.accountID=0,this.docName="",this.revision="",this.docNumber="",this.myFile="",this.myData=null)},showLoadingOnElement:function(t,e,a){var i=this;i.$vs.loading({type:a,container:i.$refs[t].$el,scale:e})},submitData:function(){var t=this,e={accountID:1,ID:this.documentID,Name:this.docName,Revision:this.revision,DocumentNr:this.docNumber,MyFile:this.myFile};null!==this.documentID&&0!=this.documentID?t.$emit("update",e):(delete e.id,e.popularity=0,t.$emit("add",e)),this.$emit("closeSidebar"),this.initValues()},loaddocument:function(){var t=this,e=function(e){t.documentDropdown=e.data.map((function(t){return{text:t.DocName,value:t.id}}))},a=function(){};t.$ajaxGet(t,"SalesSeeker/SP_JsonResult?storeproc=CRUD_DocumentGeneric_Get&parameters=1",e,a)}}},m=u,v=(a("55f0"),a("2877")),f=Object(v["a"])(m,o,c,!1,null,"755d9ac1",null),h=f.exports,p={data:function(){return{statusPromptActive:!1,myData:null,text:"",itemsPerPage:10,menuSidebar:!1,selected:[],document:[],productserror:[],categorieserrors:[],datetime:null,configdateTimePicker:{enableTime:!0,dateFormat:"Y/m/d h:m"},date2:null,sidebarData:{},isMounted:!1}},components:{flatPickr:n.a,menuSidebar:h,FileReader:FileReader},computed:{currentPage:function(){return this.isMounted?this.$refs.gridTable.currentx:0}},mounted:function(){this.GetGrid(),this.isMounted=!0},methods:{successNotify:function(){this.$vs.notify({title:"Successfully",text:"Item successfully added | updated | removed",color:"success"})},FailedNotify:function(){this.$vs.notify({title:"Not Successfull",text:"Item not added",color:"danger"})},addNewData:function(){this.sidebarData={},this.toggleDataSidebar(!0)},showStatusPrompt:function(t){var e=this;e.mydata=t.myFile,e.myData="data:application/pdf;base64,"+t.myFile,e.statusPromptActive=!0},editData:function(t){this.sidebarData=t,this.toggleDataSidebar(!0)},ReloadData:function(){var t=this;t.GetGrid()},toggleDataSidebar:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.menuSidebar=t},showLoadingOnElement:function(t,e,a){var i=this;i.$vs.loading({type:a,container:i.$refs[t].$el,scale:e})},add:function(t){var e=this;e.showLoadingOnElement("gridTable",1,"radius");var a=function(t){e.GetGrid()},i=function(){e.$vs.loading.close(e.$refs.gridTable.$el),e.successNotify()};e.$ajaxPost(e,"SalesSeeker/AddDocumentation",t,a,i)},update:function(t){var e=this;e.showLoadingOnElement("gridTable",1,"radius");var a=function(t){e.GetGrid()},i=function(){e.$vs.loading.close(e.$refs.gridTable.$el),e.successNotify()};e.$ajaxPost(e,"SalesSeeker/UpdateDocumentation",t,a,i)},deleteData:function(t){var e=this;e.showLoadingOnElement("gridTable",1,"radius");var a=function(t){e.GetGrid()},i=function(){e.$vs.loading.close(e.$refs.gridTable.$el),e.successNotify()};e.$ajaxGet(e,"SalesSeeker/RemoveDocumentation?DocumentID="+t.id,a,i)},GetGrid:function(){var t=this;t.showLoadingOnElement("gridTable",1,"radius");var e=function(e){t.document=e.data},a=function(){t.$vs.loading.close(t.$refs.gridTable.$el)};t.$ajaxGet(t,"SalesSeeker/GetDocumentation?AccountID=1",e,a)}}},b=p,g=(a("ad81"),Object(v["a"])(b,i,s,!1,null,null,null));e["default"]=g.exports},5358:function(t,e,a){},"55f0":function(t,e,a){"use strict";var i=a("5358"),s=a.n(i);s.a},ad81:function(t,e,a){"use strict";var i=a("e77d"),s=a.n(i);s.a},e77d:function(t,e,a){}}]);
//# sourceMappingURL=chunk-8833b89a.7ec76642.js.map